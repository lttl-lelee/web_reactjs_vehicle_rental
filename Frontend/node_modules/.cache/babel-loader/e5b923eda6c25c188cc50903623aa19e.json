{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\components\\\\SignUpForm.jsx\",\n    _s = $RefreshSig$();\n\n// @ts-nocheck\nimport UserApi from \"api/userApi\";\nimport { login } from \"app/slice/userSlice\";\nimport store from \"app/store\";\nimport { FACEBOOK_AUTH_URL, GOOGLE_AUTH_URL } from \"constants/index\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport React, { useState } from \"react\";\nimport { Button, Col, Form as BForm, Modal, Row } from \"react-bootstrap\";\nimport { AiOutlineGoogle } from \"react-icons/ai\";\nimport { GrFacebookOption } from \"react-icons/gr\"; // eslint-disable-next-line no-unused-vars\n\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport VerifyForm from \"./Header/VerifyForm\";\nimport Loading from \"./layout/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpForm = props => {\n  _s();\n\n  const handleClose = props.handleClose;\n  const [status, setStatus] = useState(\"idle\");\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      password: \"\",\n      fullName: \"\",\n      phone: \"\",\n      email: \"\",\n      password_confirmation: \"\",\n      policy: false\n    },\n    validationSchema: Yup.object({\n      password: Yup.string().required(\"Đây là trường bắt buộc\"),\n      fullName: Yup.string().required(\"Đây là trường bắt buộc\"),\n      phone: Yup.string().required(\"Đây là trường bắt buộc\").test(\"len\", \"Phải có 10 số\", val => val && val.length === 10).matches(/^[0-9\\s]+$/, \"Chỉ nhập số\"),\n      email: Yup.string().required(\"Đây là trường bắt buộc\").email(\"Sai định dạng email\"),\n      password_confirmation: Yup.string().required(\"Đây là trường bắt buộc\").oneOf([Yup.ref(\"password\")], \"Mật khẩu nhập lại không khớp\"),\n      policy: Yup.boolean().required(\"Đây là trường bắt buộc\").oneOf([true], \"Bạn cần chấp nhận các điều khoản\")\n    }),\n    onSubmit: values => {\n      setStatus(\"loading\");\n      console.log(values);\n      UserApi.signup(values).then(res => {\n        console.log(res);\n        store.dispatch(login(res));\n        handleClose();\n        setStatus(0); // setStatus(\"verify\");\n        // UserApi.sendVerify().then((jwtCode) => {\n        //   //@ts-ignore\n        //   sessionStorage.setItem(\"jwtCode\", jwtCode);\n        // });\n      }).catch(res => {\n        console.log(res); // setStatus(\"badRequest\");\n      });\n    },\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: true,\n      fullscreen: \"sm-down\",\n      backdrop: \"static\",\n      \"data-dismiss\": \"modal\",\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\u0110\\u0103ng k\\xFD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: status === \"verify\" ? /*#__PURE__*/_jsxDEV(VerifyForm, {\n          close: handleClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Form, {\n          id: \"sign-up-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative text-danger text-center\",\n            children: status === \"loading\" ? /*#__PURE__*/_jsxDEV(Loading, {\n              type: \"inline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this) : status === \"badRequest\" ? \"Email đã được sử dụng!\" : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            className: \"mb-3\",\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n              children: \"Email*:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"email\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                type: \"text\",\n                ...field,\n                placeholder: \"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            className: \"mb-3\",\n            controlId: \"fullName\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n              children: \"H\\u1ECD v\\xE0 t\\xEAn*:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"fullName\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                type: \"text\",\n                ...field,\n                placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn c\\u1EE7a b\\u1EA1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"fullName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            className: \"mb-3\",\n            controlId: \"fullName\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i*:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"phone\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                type: \"text\",\n                ...field,\n                placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i c\\u1EE7a b\\u1EA1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: true,\n              children: /*#__PURE__*/_jsxDEV(BForm.Group, {\n                className: \"mb-3\",\n                controlId: \"password\",\n                children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n                  children: \"M\\u1EADt kh\\u1EA9u*:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"password\",\n                  children: ({\n                    field\n                  }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                    type: \"password\",\n                    ...field,\n                    placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n                  className: \"text-danger\",\n                  children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    name: \"password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: true,\n              children: /*#__PURE__*/_jsxDEV(BForm.Group, {\n                className: \"mb-3\",\n                controlId: \"password_confirmation\",\n                children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n                  children: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u*:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"password_confirmation\",\n                  children: ({\n                    field\n                  }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                    type: \"password\",\n                    ...field,\n                    placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n                  className: \"text-danger\",\n                  children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                    name: \"password_confirmation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            controlId: \"readPolicy\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              name: \"policy\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Check, { ...field,\n                type: \"checkbox\",\n                label: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"T\\xF4i \\u0111\\xE3 \\u0111\\u1ECDc v\\xE0 \\u0111\\u1ED3ng \\xFD v\\u1EDBi\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/policy\",\n                    children: \"ch\\xEDnh s\\xE1ch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 27\n                  }, this), \" c\\u1EE7a LOGO\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"policy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            className: \"w-100 my-3\",\n            type: \"submit\",\n            children: \"\\u0110\\u0103ng K\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n            className: \"text-muted text-center d-block mb-3\",\n            children: \"Ho\\u1EB7c \\u0111\\u0103ng nh\\u1EADp b\\u1EB1ng t\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                backgroundColor: \"#285091\"\n              },\n              href: FACEBOOK_AUTH_URL,\n              className: \"w-50\",\n              children: [/*#__PURE__*/_jsxDEV(GrFacebookOption, {\n                className: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), \"Facebook\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger w-50 text-white\",\n              href: GOOGLE_AUTH_URL,\n              children: [/*#__PURE__*/_jsxDEV(AiOutlineGoogle, {\n                className: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), \" Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUpForm, \"PrSSnJYnmPMLjC7rLJ6w5budhnU=\");\n\n_c = SignUpForm;\nexport default _c2 = /*#__PURE__*/React.memo(SignUpForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignUpForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/components/SignUpForm.jsx"],"names":["UserApi","login","store","FACEBOOK_AUTH_URL","GOOGLE_AUTH_URL","ErrorMessage","Field","Form","Formik","React","useState","Button","Col","BForm","Modal","Row","AiOutlineGoogle","GrFacebookOption","useSelector","Link","Yup","VerifyForm","Loading","SignUpForm","props","handleClose","status","setStatus","password","fullName","phone","email","password_confirmation","policy","object","string","required","test","val","length","matches","oneOf","ref","boolean","values","console","log","signup","then","res","dispatch","catch","field","backgroundColor","memo"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\n\r\nimport UserApi from \"api/userApi\";\r\nimport { login } from \"app/slice/userSlice\";\r\nimport store from \"app/store\";\r\nimport { FACEBOOK_AUTH_URL, GOOGLE_AUTH_URL } from \"constants/index\";\r\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Col, Form as BForm, Modal, Row } from \"react-bootstrap\";\r\nimport { AiOutlineGoogle } from \"react-icons/ai\";\r\nimport { GrFacebookOption } from \"react-icons/gr\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport VerifyForm from \"./Header/VerifyForm\";\r\nimport Loading from \"./layout/Loading\";\r\n\r\nconst SignUpForm = (props) => {\r\n  const handleClose = props.handleClose;\r\n  const [status, setStatus] = useState(\"idle\");\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        password: \"\",\r\n        fullName: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        password_confirmation: \"\",\r\n        policy: false,\r\n      }}\r\n      validationSchema={Yup.object({\r\n        password: Yup.string().required(\"Đây là trường bắt buộc\"),\r\n        fullName: Yup.string().required(\"Đây là trường bắt buộc\"),\r\n        phone: Yup.string()\r\n          .required(\"Đây là trường bắt buộc\")\r\n          .test(\"len\", \"Phải có 10 số\", (val) => val && val.length === 10)\r\n          .matches(/^[0-9\\s]+$/, \"Chỉ nhập số\"),\r\n        email: Yup.string()\r\n          .required(\"Đây là trường bắt buộc\")\r\n          .email(\"Sai định dạng email\"),\r\n          password_confirmation: Yup.string()\r\n          .required(\"Đây là trường bắt buộc\")\r\n          .oneOf([Yup.ref(\"password\")], \"Mật khẩu nhập lại không khớp\"),\r\n        policy: Yup.boolean()\r\n          .required(\"Đây là trường bắt buộc\")\r\n          .oneOf([true], \"Bạn cần chấp nhận các điều khoản\"),\r\n      })}\r\n      onSubmit={(values) => {\r\n        setStatus(\"loading\");\r\n        console.log(values);\r\n        UserApi.signup(values)\r\n          .then((res) => {\r\n            console.log(res);\r\n            store.dispatch(login(res));\r\n            handleClose();\r\n            setStatus(0);\r\n            // setStatus(\"verify\");\r\n            // UserApi.sendVerify().then((jwtCode) => {\r\n            //   //@ts-ignore\r\n            //   sessionStorage.setItem(\"jwtCode\", jwtCode);\r\n            // });\r\n          })\r\n          .catch((res) => { \r\n            console.log(res);\r\n            // setStatus(\"badRequest\");\r\n          });\r\n      }}\r\n    >\r\n      <Modal\r\n        show={true}\r\n        fullscreen=\"sm-down\"\r\n        backdrop=\"static\"\r\n        data-dismiss=\"modal\"\r\n        onHide={handleClose}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Đăng ký</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {status === \"verify\" ? (\r\n            <VerifyForm close={handleClose} />\r\n          ) : (\r\n            <Form id=\"sign-up-form\">\r\n              <div className=\"position-relative text-danger text-center\">\r\n                {status === \"loading\" ? (\r\n                  <Loading type=\"inline\" />\r\n                ) : status === \"badRequest\" ? (\r\n                  \"Email đã được sử dụng!\"\r\n                ) : null}\r\n              </div>\r\n              <BForm.Group className=\"mb-3\" controlId=\"email\">\r\n                <BForm.Label>Email*:</BForm.Label>\r\n                <Field name=\"email\">\r\n                  {({ field }) => (\r\n                    <BForm.Control\r\n                      type=\"text\"\r\n                      {...field}\r\n                      placeholder=\"Nhập email của bạn\"\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"email\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <BForm.Group className=\"mb-3\" controlId=\"fullName\">\r\n                <BForm.Label>Họ và tên*:</BForm.Label>\r\n                <Field name=\"fullName\">\r\n                  {({ field }) => (\r\n                    <BForm.Control\r\n                      type=\"text\"\r\n                      {...field}\r\n                      placeholder=\"Nhập họ và tên của bạn\"\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"fullName\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <BForm.Group className=\"mb-3\" controlId=\"fullName\">\r\n                <BForm.Label>Số điện thoại*:</BForm.Label>\r\n                <Field name=\"phone\">\r\n                  {({ field }) => (\r\n                    <BForm.Control\r\n                      type=\"text\"\r\n                      {...field}\r\n                      placeholder=\"Nhập số điện thoại của bạn\"\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"phone\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <Row>\r\n                <Col md>\r\n                  <BForm.Group className=\"mb-3\" controlId=\"password\">\r\n                    <BForm.Label>Mật khẩu*:</BForm.Label>\r\n                    <Field name=\"password\">\r\n                      {({ field }) => (\r\n                        <BForm.Control\r\n                          type=\"password\"\r\n                          {...field}\r\n                          placeholder=\"Nhập mật khẩu\"\r\n                        />\r\n                      )}\r\n                    </Field>\r\n                    <BForm.Text className=\"text-danger\">\r\n                      <ErrorMessage name=\"password\" />\r\n                    </BForm.Text>\r\n                  </BForm.Group>\r\n                </Col>\r\n                <Col md>\r\n                  <BForm.Group className=\"mb-3\" controlId=\"password_confirmation\">\r\n                    <BForm.Label>Nhập lại mật khẩu*:</BForm.Label>\r\n                    <Field name=\"password_confirmation\">\r\n                      {({ field }) => (\r\n                        <BForm.Control\r\n                          type=\"password\"\r\n                          {...field}\r\n                          placeholder=\"Nhập lại mật khẩu\"\r\n                        />\r\n                      )}\r\n                    </Field>\r\n                    <BForm.Text className=\"text-danger\">\r\n                      <ErrorMessage name=\"password_confirmation\" />\r\n                    </BForm.Text>\r\n                  </BForm.Group>\r\n                </Col>\r\n              </Row>\r\n              <BForm.Group controlId=\"readPolicy\">\r\n                <Field name=\"policy\">\r\n                  {({ field }) => (\r\n                    <BForm.Check\r\n                      {...field}\r\n                      type=\"checkbox\"\r\n                      label={\r\n                        <span>\r\n                          Tôi đã đọc và đồng ý với{\" \"}\r\n                          <Link to=\"/policy\">chính sách</Link> của LOGO\r\n                        </span>\r\n                      }\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"policy\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <Button variant=\"primary\" className=\"w-100 my-3\" type=\"submit\">\r\n                Đăng Ký\r\n              </Button>\r\n              <hr />\r\n              <BForm.Text className=\"text-muted text-center d-block mb-3\">\r\n                Hoặc đăng nhập bằng tài khoản\r\n              </BForm.Text>\r\n              <div className=\"d-flex gap-2\">\r\n                <Button\r\n                  style={{ backgroundColor: \"#285091\" }}\r\n                  href={FACEBOOK_AUTH_URL}\r\n                  className=\"w-50\"\r\n                >\r\n                  <GrFacebookOption className=\"icon\" />\r\n                  Facebook\r\n                </Button>\r\n                <Button variant=\"danger w-50 text-white\" href={GOOGLE_AUTH_URL}>\r\n                  <AiOutlineGoogle className=\"icon\" /> Google\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Formik>\r\n  );\r\n};\r\nexport default React.memo(SignUpForm);\r\n"]},"metadata":{},"sourceType":"module"}