{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\Frontend\\\\src\\\\pages\\\\RegisterVehiclePage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport RegisterVehicleFirst from \"components/registervehicle/RegisterVehicleFirst\";\nimport RegisterVehicleSecond from \"components/registervehicle/RegisterVehicleSecond\";\nimport RegisterVehicleThird from \"components/registervehicle/RegisterVehicleThird\";\nimport store from \"app/store\";\nimport { validate } from \"app/slice/registerSlice\";\nimport { useSelector } from \"react-redux\";\nimport vehicleApi from \"api/vehicleApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst validatePart1 = data => {\n  const error = [];\n\n  if (data.licensePlates === \"\") {\n    error.push(\"licensePlates\");\n  }\n\n  if (data.model.id === 0) {\n    error.push(\"model\");\n  }\n\n  if (data.fuelConsumption === 0) {\n    error.push(\"fuelConsumption\");\n  }\n\n  return error;\n};\n\nconst validatePart2 = data => {\n  const error = [];\n\n  if (data.originPrice === 0) {\n    error.push(\"originPrice\");\n  }\n\n  if (data.location === null) {\n    error.push(\"location\");\n  }\n\n  console.log(data, error);\n  return error;\n};\n\nexport default function RegisterVehiclePage(props) {\n  _s();\n\n  // @ts-ignore\n  const register = useSelector(state => state.register);\n  const [page, setPage] = React.useState(1);\n\n  const handleBack = () => setPage(page - 1);\n\n  const handleNext = () => {\n    let error = [];\n\n    if (register.type !== \"0\") {\n      if (page === 1) {\n        error = validatePart1(register.data);\n      } else {\n        error = validatePart2(register.data);\n      }\n\n      if (error.length) {\n        store.dispatch(validate(error));\n      } else {\n        setPage(page + 1);\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    const type = register.type;\n    const data = { ...register.data\n    };\n    const images = register.images;\n\n    if (images.length && images.length > 2) {\n      const listImage = [];\n      images.forEach((item, index) => {\n        listImage.push({\n          id: index,\n          mainImg: item.mainImg\n        });\n      });\n      data.images = listImage;\n\n      if (type === \"bike\") {\n        vehicleApi.createBike(data).then(res => {\n          let formData = new FormData();\n          const id = res.data.id;\n          const name = `vehicle${id}-`;\n          images.forEach((item, index) => {\n            const file = new File([item.file], name + index);\n            formData.append(\"files\", file);\n          });\n          vehicleApi.uploadMultipleFiles(formData).then(res => {\n            console.log(res);\n          });\n          props.history.push(\"/myvehicles\");\n        });\n      } else {\n        vehicleApi.createCar(data).then(res => {\n          let formData = new FormData();\n          const id = res.data.id;\n          const name = `vehicle${id}-`;\n          images.forEach((item, index) => {\n            const file = new File([item.file], name + index + '.jpg');\n            formData.append(\"files[]\", file);\n            console.log(file);\n          });\n          vehicleApi.uploadMultipleFiles(formData).then(res => {\n            console.log(res);\n          });\n        });\n      }\n    } else {\n      store.dispatch(validate([\"images\"]));\n    }\n  }; // eslint-disable-next-line default-case\n\n\n  switch (page) {\n    case 1:\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RegisterVehicleFirst, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-footer\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"main\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"left-btn\",\n                onClick: handleBack,\n                disabled: true,\n                children: \"Quay l\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"right-btn\",\n                onClick: handleNext,\n                type: \"submit\",\n                children: \"K\\u1EBF ti\\u1EBFp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n\n    case 2:\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RegisterVehicleSecond, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-footer\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"main\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"left-btn\",\n                onClick: handleBack,\n                children: \"Quay l\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"right-btn\",\n                onClick: handleNext,\n                type: \"submit\",\n                children: \"K\\u1EBF ti\\u1EBFp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n\n    case 3:\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RegisterVehicleThird, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-footer\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"main\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"left-btn\",\n                onClick: handleBack,\n                children: \"Quay l\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"right-btn\",\n                onClick: handleSubmit,\n                type: \"submit\",\n                children: \"\\u0110\\u0103ng k\\xED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n  }\n}\n\n_s(RegisterVehiclePage, \"WIiQy5GSSot69v0Qae8yFWQOjNE=\", false, function () {\n  return [useSelector];\n});\n\n_c = RegisterVehiclePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterVehiclePage\");","map":{"version":3,"sources":["D:/hihi/senior-project/Frontend/src/pages/RegisterVehiclePage.jsx"],"names":["React","Button","Row","Col","RegisterVehicleFirst","RegisterVehicleSecond","RegisterVehicleThird","store","validate","useSelector","vehicleApi","validatePart1","data","error","licensePlates","push","model","id","fuelConsumption","validatePart2","originPrice","location","console","log","RegisterVehiclePage","props","register","state","page","setPage","useState","handleBack","handleNext","type","length","dispatch","handleSubmit","images","listImage","forEach","item","index","mainImg","createBike","then","res","formData","FormData","name","file","File","append","uploadMultipleFiles","history","createCar"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Row, Col } from \"react-bootstrap\";\r\nimport RegisterVehicleFirst from \"components/registervehicle/RegisterVehicleFirst\";\r\nimport RegisterVehicleSecond from \"components/registervehicle/RegisterVehicleSecond\";\r\nimport RegisterVehicleThird from \"components/registervehicle/RegisterVehicleThird\";\r\nimport store from \"app/store\";\r\nimport { validate } from \"app/slice/registerSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport vehicleApi from \"api/vehicleApi\";\r\n\r\nconst validatePart1 = (data) => {\r\n  const error = [];\r\n  if (data.licensePlates === \"\") {\r\n    error.push(\"licensePlates\");\r\n  }\r\n  if (data.model.id === 0) {\r\n    error.push(\"model\");\r\n  }\r\n  if (data.fuelConsumption === 0) {\r\n    error.push(\"fuelConsumption\");\r\n  }\r\n  return error;\r\n};\r\nconst validatePart2 = (data) => {\r\n  const error = [];\r\n  if (data.originPrice === 0) {\r\n    error.push(\"originPrice\");\r\n  }\r\n  if (data.location === null) {\r\n    error.push(\"location\");\r\n  }\r\n  console.log(data, error);\r\n  return error;\r\n};\r\nexport default function RegisterVehiclePage(props) {\r\n  // @ts-ignore\r\n  const register = useSelector((state) => state.register);\r\n  const [page, setPage] = React.useState(1);\r\n  const handleBack = () => setPage(page - 1);\r\n  const handleNext = () => {\r\n    let error = [];\r\n    if (register.type !== \"0\") {\r\n      if (page === 1) {\r\n        error = validatePart1(register.data);\r\n      } else {\r\n        error = validatePart2(register.data);\r\n      }\r\n      if (error.length) {\r\n        store.dispatch(validate(error));\r\n      } else {\r\n        \r\n        setPage(page + 1);\r\n      }\r\n    }\r\n  };\r\n  const handleSubmit = () => {\r\n    const type = register.type;\r\n    const data = { ...register.data };\r\n    const images = register.images;\r\n    if (images.length && images.length>2) {\r\n      const listImage = [];\r\n      images.forEach((item, index) => {\r\n        listImage.push({ id: index, mainImg: item.mainImg });\r\n      });\r\n      data.images = listImage;\r\n      if (type === \"bike\") {\r\n        vehicleApi.createBike(data).then((res) => {\r\n          let formData = new FormData();\r\n          const id = res.data.id;\r\n          const name = `vehicle${id}-`;\r\n          images.forEach((item, index) => {\r\n            const file = new File([item.file], name + index);\r\n            formData.append(\"files\", file);\r\n          });\r\n          vehicleApi.uploadMultipleFiles(formData).then((res) => {\r\n            console.log(res); \r\n          });\r\n          props.history.push(\"/myvehicles\");\r\n        });\r\n      } else {\r\n        vehicleApi.createCar(data).then((res) => {\r\n          let formData = new FormData();\r\n          const id = res.data.id;\r\n          const name = `vehicle${id}-`;\r\n          images.forEach((item, index) => {\r\n            const file = new File([item.file], name + index + '.jpg');\r\n            formData.append(\"files[]\", file);\r\n            console.log(file);\r\n          });\r\n          vehicleApi.uploadMultipleFiles(formData).then((res) => {\r\n            console.log(res);\r\n          });\r\n        });\r\n      }\r\n    } else {\r\n      store.dispatch(validate([\"images\"]));\r\n    }\r\n  };\r\n        // eslint-disable-next-line default-case\r\n\r\n        \r\n        switch (page) {\r\n          case 1:\r\n            return (\r\n              <>\r\n                <RegisterVehicleFirst />\r\n                <div className=\"register-footer\">\r\n                  <Row className=\"main\">\r\n                    <Col lg={6}>\r\n                      <Button className=\"left-btn\" onClick={handleBack} disabled>\r\n                        Quay lại\r\n                      </Button>\r\n                    </Col>\r\n                    <Col lg={6}>\r\n                      <Button\r\n                        className=\"right-btn\"\r\n                        onClick={handleNext}\r\n                        type=\"submit\"\r\n                      >\r\n                        Kế tiếp\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </>\r\n            );\r\n          case 2:\r\n            return (\r\n              <>\r\n                <RegisterVehicleSecond />\r\n                <div className=\"register-footer\">\r\n                  <Row className=\"main\">\r\n                    <Col lg={6}>\r\n                      <Button className=\"left-btn\" onClick={handleBack}>\r\n                        Quay lại\r\n                      </Button>\r\n                    </Col>\r\n                    <Col lg={6}>\r\n                      <Button\r\n                        className=\"right-btn\"\r\n                        onClick={handleNext}\r\n                        type=\"submit\"\r\n                      >\r\n                        Kế tiếp\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </>\r\n            );\r\n          case 3:\r\n            return (\r\n              <>\r\n                <RegisterVehicleThird />\r\n                <div className=\"register-footer\">\r\n                  <Row className=\"main\">\r\n                    <Col lg={6}>\r\n                      <Button className=\"left-btn\" onClick={handleBack}>\r\n                        Quay lại\r\n                      </Button>\r\n                    </Col>\r\n                    <Col lg={6}>\r\n                      <Button\r\n                        className=\"right-btn\"\r\n                        onClick={handleSubmit}\r\n                        type=\"submit\"\r\n                      >\r\n                        Đăng kí\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </>\r\n            );\r\n        }\r\n      }\r\n\r\n"]},"metadata":{},"sourceType":"module"}