{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\Frontend\\\\src\\\\pages\\\\BookingPage.jsx\",\n    _s = $RefreshSig$();\n\nimport bookingApi from \"api/bookingApi\";\nimport userApi from \"api/userApi\";\nimport Loading from \"components/layout/Loading\";\nimport { formatDateTime, formatMoneyK } from \"lib/Helper\";\nimport React, { useEffect, useState } from \"react\";\nimport { Col, ListGroup, ListGroupItem, Row, Card, Container, Modal, Button, Form } from \"react-bootstrap\";\nimport queryString from \"query-string\";\nimport Booking from \"components/mytrips/Booking\";\nimport BookingRequest from \"components/mytrips/BookingRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction BookingPage(props) {\n  _s();\n\n  const param = queryString.parse(window.location.search);\n  const [booking, setBooking] = useState(null);\n  const [updateNoti, setUpdateNoti] = useState(true);\n  useEffect(() => {\n    if (booking === null) {\n      bookingApi.getBooking({\n        id: param.id\n      }).then(res => {\n        setBooking(res);\n      });\n    }\n\n    if (updateNoti) {\n      setUpdateNoti(false);\n      const interval = setInterval(() => {\n        bookingApi.getBooking({\n          id: param.id\n        }).then(res => {\n          setBooking(res);\n        });\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-content\",\n    children: booking ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: booking.type === \"Thuê\" ? /*#__PURE__*/_jsxDEV(Booking, {\n        history: props.history,\n        booking: booking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(BookingRequest, {\n        history: props.history,\n        booking: booking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BookingPage, \"f0ZUJP6IPePpz2/tUVj/b7Qz/Yo=\");\n\n_c = BookingPage;\nexport default BookingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"sources":["D:/hihi/senior-project/Frontend/src/pages/BookingPage.jsx"],"names":["bookingApi","userApi","Loading","formatDateTime","formatMoneyK","React","useEffect","useState","Col","ListGroup","ListGroupItem","Row","Card","Container","Modal","Button","Form","queryString","Booking","BookingRequest","BookingPage","props","param","parse","window","location","search","booking","setBooking","updateNoti","setUpdateNoti","getBooking","id","then","res","interval","setInterval","clearInterval","type","history"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,gBAAvB;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,YAA7C;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,GADF,EAEEC,SAFF,EAGEC,aAHF,EAIEC,GAJF,EAKEC,IALF,EAMEC,SANF,EAOEC,KAPF,EAQEC,MARF,EASEC,IATF,QAUO,iBAVP;AAWA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAC1B,QAAMC,KAAK,GAAGL,WAAW,CAACM,KAAZ,CAAkBC,MAAM,CAACC,QAAP,CAAgBC,MAAlC,CAAd;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACsB,UAAD,EAAaC,aAAb,IAA8BvB,QAAQ,CAAC,IAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIqB,OAAO,KAAK,IAAhB,EAAsB;AACpB3B,MAAAA,UAAU,CAAC+B,UAAX,CAAsB;AAAEC,QAAAA,EAAE,EAAEV,KAAK,CAACU;AAAZ,OAAtB,EAAwCC,IAAxC,CAA8CC,GAAD,IAAS;AACpDN,QAAAA,UAAU,CAACM,GAAD,CAAV;AACD,OAFD;AAGD;;AACD,QAAIL,UAAJ,EAAgB;AACdC,MAAAA,aAAa,CAAC,KAAD,CAAb;AACA,YAAMK,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACjCpC,QAAAA,UAAU,CAAC+B,UAAX,CAAsB;AAAEC,UAAAA,EAAE,EAAEV,KAAK,CAACU;AAAZ,SAAtB,EAAwCC,IAAxC,CAA8CC,GAAD,IAAS;AACpDN,UAAAA,UAAU,CAACM,GAAD,CAAV;AACD,SAFD;AAGD,OAJ2B,EAIzB,IAJyB,CAA5B;AAKA,aAAO,MAAMG,aAAa,CAACF,QAAD,CAA1B;AACD;AACF,GAfQ,EAeN,EAfM,CAAT;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,cACGR,OAAO,gBACN;AAAA,gBACGA,OAAO,CAACW,IAAR,KAAiB,MAAjB,gBACC,QAAC,OAAD;AAAS,QAAA,OAAO,EAAEjB,KAAK,CAACkB,OAAxB;AAAiC,QAAA,OAAO,EAAEZ;AAA1C;AAAA;AAAA;AAAA;AAAA,cADD,gBAGC,QAAC,cAAD;AAAgB,QAAA,OAAO,EAAEN,KAAK,CAACkB,OAA/B;AAAwC,QAAA,OAAO,EAAEZ;AAAjD;AAAA;AAAA;AAAA;AAAA;AAJJ,qBADM,gBASN,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GApCQP,W;;KAAAA,W;AAsCT,eAAeA,WAAf","sourcesContent":["import bookingApi from \"api/bookingApi\";\r\nimport userApi from \"api/userApi\";\r\nimport Loading from \"components/layout/Loading\";\r\nimport { formatDateTime, formatMoneyK } from \"lib/Helper\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Col,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Row,\r\n  Card,\r\n  Container,\r\n  Modal,\r\n  Button,\r\n  Form,\r\n} from \"react-bootstrap\";\r\nimport queryString from \"query-string\";\r\nimport Booking from \"components/mytrips/Booking\";\r\nimport BookingRequest from \"components/mytrips/BookingRequest\";\r\n\r\nfunction BookingPage(props) {\r\n  const param = queryString.parse(window.location.search);\r\n  const [booking, setBooking] = useState(null);\r\n  const [updateNoti, setUpdateNoti] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (booking === null) {\r\n      bookingApi.getBooking({ id: param.id }).then((res) => {\r\n        setBooking(res);\r\n      });\r\n    }\r\n    if (updateNoti) {\r\n      setUpdateNoti(false);\r\n      const interval = setInterval(() => {\r\n        bookingApi.getBooking({ id: param.id }).then((res) => {\r\n          setBooking(res);\r\n        });\r\n      }, 5000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"page-content\">\r\n      {booking ? (\r\n        <>\r\n          {booking.type === \"Thuê\" ? (\r\n            <Booking history={props.history} booking={booking} />\r\n          ) : (\r\n            <BookingRequest history={props.history} booking={booking} />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Loading />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingPage;\r\n"]},"metadata":{},"sourceType":"module"}