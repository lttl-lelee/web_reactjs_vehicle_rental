{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\components\\\\adminpage\\\\content\\\\UserList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Visibility } from '@material-ui/icons';\nimport ModalUser from 'components/adminpage/modal/ModalUser';\nimport adminApi from './../../../api/adminApi';\nimport { FormControl } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserList() {\n  _s();\n\n  let [list, setlist] = useState([]);\n  const [show, setShow] = useState(false);\n  const [filterName, setFilterName] = useState(\"\");\n  const [filterPhone, setFilterPhone] = useState(\"\");\n  const [filterEmail, setFilterEmail] = useState(\"\");\n  const [filterStatus, setFilterStatus] = useState(\"-1\");\n  const [filterId, setFilterId] = useState(\"0\");\n  const [user, setuser] = useState({\n    id: 0,\n    fullName: '',\n    phone: '',\n    gender: '',\n    email: '',\n    emailVerified: false,\n    role: '',\n    banned: false,\n    dob: '',\n    avatarLink: '',\n    wallet: '',\n    responseRate: {\n      id: 0,\n      totalResponse: 0,\n      totalRequest: 0,\n      totalAgree: 0,\n      totalHoursResponse: 0\n    },\n    drivingLincense: {\n      id: 0,\n      number: '',\n      dob: '',\n      imageLink: '',\n      confirmed: ''\n    },\n    addresses: [{\n      id: 0,\n      provinceCode: 0,\n      districtCode: 0,\n      wardCode: 0,\n      street: '',\n      strAddress: '',\n      latitude: '',\n      longitude: '',\n      defaultAddress: false,\n      name: ''\n    }]\n  });\n\n  const handleShow = data => {\n    setShow(true);\n    setuser(data);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n  };\n\n  useEffect(() => {\n    // @ts-ignore\n    adminApi.getUser().then(res => setlist(res));\n  }, []);\n\n  const handleStatus = data => {\n    let temp = list;\n    temp.forEach(item => {\n      if (item.id === data) {\n        item.banned = !item.banned;\n      }\n    });\n    setlist(temp);\n    adminApi.updateUser(data);\n  };\n\n  if (filterName !== null) {\n    let temp = list.filter(item => {\n      return item.fullName.toLowerCase().includes(filterName) === true;\n    });\n\n    if (filterStatus === \"-1\") {\n      list = temp;\n    } else if (filterStatus === \"1\") {\n      list = temp.filter(item => {\n        return item.banned === true;\n      });\n      console.log(list);\n    } else {\n      list = temp.filter(item => {\n        return item.banned === false;\n      });\n    }\n  }\n\n  if (filterPhone) {\n    list = list.filter(item => {\n      return item.phone.toLowerCase().includes(filterPhone) === true;\n    });\n  }\n\n  if (filterEmail) {\n    list = list.filter(item => {\n      return item.email.toLowerCase().includes(filterEmail) === true;\n    });\n  }\n\n  if (filterId === \"1\") {\n    // @ts-ignore\n    list.sort((a, b) => {\n      if (a.id > b.id) return \"-1\";else if (a.id < b.id) return \"1\";else return \"0\";\n    });\n  }\n\n  const handleClearFilter = () => {\n    setFilterName(\"\");\n    setFilterPhone(\"\");\n    setFilterEmail(\"\");\n    setFilterStatus(\"-1\");\n    setFilterId(\"0\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin_users_list\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin_users_list_title\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Danh s\\xE1ch t\\xE0i kho\\u1EA3n ng\\u01B0\\u1EDDi d\\xF9ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin_users_list_body\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin_users_table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"admin_users_thead\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"Tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"admin_users_th\",\n              children: \"Chi ti\\u1EBFt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                name: \"filterId\",\n                onChange: ({\n                  target\n                }) => setFilterId(target.value),\n                value: filterId,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"\\u2191\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0\",\n                  children: \"\\u2193\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                name: \"filterName\",\n                value: filterName,\n                type: \"text\",\n                onChange: ({\n                  target\n                }) => setFilterName(target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                name: \"filterPhone\",\n                value: filterPhone,\n                type: \"number\",\n                onChange: ({\n                  target\n                }) => setFilterPhone(target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                name: \"filterEmail\",\n                value: filterEmail,\n                type: \"email\",\n                onChange: ({\n                  target\n                }) => setFilterEmail(target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                name: \"filterStatus\",\n                onChange: ({\n                  target\n                }) => setFilterStatus(target.value),\n                value: filterStatus,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"-1\",\n                  children: \"T\\u1EA5t C\\u1EA3 \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"\\u1EA8n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0\",\n                  children: \"K\\xEDch Ho\\u1EA1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"form-control\",\n                onClick: handleClearFilter,\n                children: \"B\\u1ECF l\\u1ECDc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), list.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"admin_users_thead\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_id\",\n              children: item.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_title\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.avatarLink,\n                alt: \"\",\n                className: \"admin_user_img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin_user_name\",\n                children: item.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_fullname\",\n              children: item.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_email\",\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_status\",\n              children: item.banned ? 'Ẩn' : 'Kích hoạt'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"admin_user_display\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin_user_button\",\n                onClick: () => handleShow(item),\n                children: [/*#__PURE__*/_jsxDEV(Visibility, {\n                  className: \"admin_user_icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 45\n                }, this), \"Xem\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalUser, {\n      user: user // @ts-ignore\n      ,\n      show: show,\n      onClose: handleClose,\n      onStatus: handleStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserList, \"SJpOdL9YLMtgcq8vOm4iVKrig+A=\");\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/components/adminpage/content/UserList.jsx"],"names":["React","useState","useEffect","Visibility","ModalUser","adminApi","FormControl","UserList","list","setlist","show","setShow","filterName","setFilterName","filterPhone","setFilterPhone","filterEmail","setFilterEmail","filterStatus","setFilterStatus","filterId","setFilterId","user","setuser","id","fullName","phone","gender","email","emailVerified","role","banned","dob","avatarLink","wallet","responseRate","totalResponse","totalRequest","totalAgree","totalHoursResponse","drivingLincense","number","imageLink","confirmed","addresses","provinceCode","districtCode","wardCode","street","strAddress","latitude","longitude","defaultAddress","name","handleShow","data","handleClose","getUser","then","res","handleStatus","temp","forEach","item","updateUser","filter","toLowerCase","includes","console","log","sort","a","b","handleClearFilter","target","value","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport ModalUser from 'components/adminpage/modal/ModalUser';\r\nimport adminApi from './../../../api/adminApi';\r\nimport { FormControl } from 'react-bootstrap';\r\n\r\nexport default function UserList() {\r\n    let [list, setlist] = useState([]);\r\n    const [show, setShow] = useState(false);\r\n    const [filterName, setFilterName] = useState(\"\");\r\n    const [filterPhone, setFilterPhone] = useState(\"\");\r\n    const [filterEmail, setFilterEmail] = useState(\"\");\r\n    const [filterStatus, setFilterStatus] = useState(\"-1\");\r\n    const [filterId, setFilterId] = useState(\"0\");\r\n    const [user, setuser] = useState({\r\n        id: 0,\r\n        fullName: '',\r\n        phone: '',\r\n        gender: '',\r\n        email: '',\r\n        emailVerified: false,\r\n        role: '',\r\n        banned: false,\r\n        dob: '',\r\n        avatarLink: '',\r\n        wallet: '',\r\n        responseRate: {\r\n            id: 0,\r\n            totalResponse: 0,\r\n            totalRequest: 0,\r\n            totalAgree: 0,\r\n            totalHoursResponse: 0\r\n        },\r\n        drivingLincense: {\r\n            id: 0,\r\n            number: '',\r\n            dob: '',\r\n            imageLink: '',\r\n            confirmed: '',\r\n        },\r\n        addresses: [\r\n            {\r\n                id: 0,\r\n                provinceCode: 0,\r\n                districtCode: 0,\r\n                wardCode: 0,\r\n                street: '',\r\n                strAddress: '',\r\n                latitude: '',\r\n                longitude: '',\r\n                defaultAddress: false,\r\n                name: ''\r\n            }\r\n        ]\r\n    });\r\n    const handleShow = (data) => {\r\n        setShow(true);\r\n        setuser(data);\r\n    }\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    }\r\n    useEffect(() => {\r\n        // @ts-ignore\r\n        adminApi.getUser().then(res => setlist(res));\r\n    }, [])\r\n\r\n    const handleStatus = (data) => {\r\n        let temp = list;\r\n        temp.forEach((item) => {\r\n            if (item.id === data) {\r\n                item.banned = !item.banned;\r\n            }\r\n        })\r\n        setlist(temp);\r\n        adminApi.updateUser(data)\r\n    }\r\n\r\n    if (filterName !== null) {\r\n        let temp = list.filter((item) => {\r\n            return item.fullName.toLowerCase().includes(filterName) === true\r\n        })\r\n        if (filterStatus === \"-1\") {\r\n            list = temp;\r\n        } else if (filterStatus === \"1\") {\r\n            list = temp.filter(item => { return item.banned === true });\r\n            console.log(list)\r\n        } else {\r\n            list = temp.filter(item => { return item.banned === false });\r\n        }\r\n\r\n    }\r\n    if (filterPhone) {\r\n        list = list.filter((item) => {\r\n            return item.phone.toLowerCase().includes(filterPhone) === true\r\n        })\r\n    }\r\n    if (filterEmail) {\r\n        list = list.filter((item) => {\r\n            return item.email.toLowerCase().includes(filterEmail) === true\r\n        })\r\n    }\r\n    if (filterId === \"1\") {\r\n        // @ts-ignore\r\n        list.sort((a, b) => {\r\n            if (a.id > b.id) return \"-1\"\r\n            else if (a.id < b.id) return \"1\"\r\n            else return \"0\"\r\n        })\r\n    }\r\n    const handleClearFilter = () => {\r\n        setFilterName(\"\");\r\n        setFilterPhone(\"\");\r\n        setFilterEmail(\"\");\r\n        setFilterStatus(\"-1\");\r\n        setFilterId(\"0\");\r\n    }\r\n    return (\r\n        <div className=\"admin_users_list\">\r\n            <div className=\"admin_users_list_title\">\r\n                <h3>Danh sách tài khoản người dùng</h3>\r\n            </div>\r\n            <div className=\"admin_users_list_body\">\r\n                <table className=\"admin_users_table\">\r\n                    <thead className=\"admin_users_thead\">\r\n                        <tr>\r\n                            <th className=\"admin_users_th\">ID</th>\r\n                            <th className=\"admin_users_th\">Họ và tên</th>\r\n                            <th className=\"admin_users_th\">Số điện thoại</th>\r\n                            <th className=\"admin_users_th\">Email</th>\r\n                            <th className=\"admin_users_th\">Trạng thái</th>\r\n                            <th className=\"admin_users_th\">Chi tiết</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    name=\"filterId\"\r\n                                    onChange={({ target }) => setFilterId(target.value)}\r\n                                    value={filterId}\r\n                                >\r\n                                    <option value=\"1\">\r\n                                        ↑\r\n                                    </option>\r\n                                    <option value=\"0\">\r\n                                        ↓\r\n                                    </option>\r\n                                </select>\r\n                            </td>\r\n                            <td>\r\n                                <FormControl\r\n                                    name=\"filterName\"\r\n                                    value={filterName}\r\n                                    type=\"text\"\r\n                                    onChange={({ target }) => setFilterName(target.value)}\r\n                                />\r\n                            </td>\r\n                            <td>\r\n                                <FormControl\r\n                                    name=\"filterPhone\"\r\n                                    value={filterPhone}\r\n                                    type=\"number\"\r\n                                    onChange={({ target }) => setFilterPhone(target.value)} />\r\n                            </td>\r\n                            <td>\r\n                                <FormControl\r\n                                    name=\"filterEmail\"\r\n                                    value={filterEmail}\r\n                                    type=\"email\"\r\n                                    onChange={({ target }) => setFilterEmail(target.value)} />\r\n                            </td>\r\n                            <td>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    name=\"filterStatus\"\r\n                                    onChange={({ target }) => setFilterStatus(target.value)}\r\n                                    value={filterStatus}\r\n                                >\r\n                                    <option value=\"-1\">Tất Cả </option>\r\n                                    <option value=\"1\">Ẩn</option>\r\n                                    <option value=\"0\">Kích Hoạt</option>\r\n                                </select>\r\n                            </td>\r\n                            <td>\r\n                                <button className=\"form-control\" onClick={handleClearFilter}>Bỏ lọc</button>\r\n                            </td>\r\n                        </tr>\r\n                        {\r\n                            list.map((item, index) => (\r\n                                <tr className=\"admin_users_thead\" key={index}>\r\n                                    <td className=\"admin_user_id\">{item.id}</td>\r\n                                    <td className=\"admin_user_title\">\r\n                                        <img src={item.avatarLink} alt=\"\" className=\"admin_user_img\" />\r\n                                        <span className=\"admin_user_name\">{item.fullName}</span>\r\n                                    </td>\r\n                                    <td className=\"admin_user_fullname\">{item.phone}</td>\r\n                                    <td className=\"admin_user_email\">{item.email}</td>\r\n                                    <td className=\"admin_user_status\">{item.banned ? 'Ẩn' : 'Kích hoạt'}</td>\r\n                                    <td className=\"admin_user_display\">\r\n                                        <button className=\"admin_user_button\" onClick={() => handleShow(item)}>\r\n                                            <Visibility className=\"admin_user_icon\" />\r\n                                            Xem\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <ModalUser user={user}\r\n                // @ts-ignore\r\n                show={show}\r\n                onClose={handleClose}\r\n                onStatus={handleStatus}\r\n            />\r\n        </div >\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}