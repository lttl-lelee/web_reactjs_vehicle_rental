{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\components\\\\mytrips\\\\Booking.jsx\",\n    _s = $RefreshSig$();\n\n// @ts-nocheck\nimport bookingApi from \"api/bookingApi\";\nimport { NOTI } from \"constants/index\";\nimport { Field, Form, Formik } from \"formik\";\nimport { comma, formatDateTime } from \"lib/Helper\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Form as BForm, Modal, Row } from \"react-bootstrap\";\nimport { AiOutlineRight } from \"react-icons/ai\"; //@ts-ignore\n\nimport { store as noti } from \"react-notifications-component\";\nimport StarRatings from \"react-star-ratings\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Booking(props) {\n  _s();\n\n  const booking = props.booking;\n  const status = booking.status;\n  const vehicle = booking.vehicle;\n  const deposit = Math.round(30 * booking.amount / 100000) * 1000;\n  const price = booking.amount - deposit;\n  const [openModal, setOpenModel] = useState(false);\n  const [show, setShow] = useState(true);\n  const [method, setMethod] = useState(1);\n  const [rated, setRated] = useState({\n    content: \"\",\n    numStar: 0\n  });\n\n  const handleChangeStar = star => {\n    setRated({ ...rated,\n      numStar: star\n    });\n  };\n\n  const handleCloseModal = () => {\n    setOpenModel(false);\n  };\n\n  const handleDeposit = () => {\n    bookingApi.deposit({\n      id: booking.id,\n      methodId: method\n    }).then(() => {\n      setShow(false);\n      setOpenModel(false);\n    });\n  };\n\n  const handleCancelAfterDeposit = () => {\n    bookingApi.getBackDeposit({\n      id: booking.id\n    }).then(() => {\n      setShow(false);\n    });\n  };\n\n  const handleCancel = () => {\n    if (window.confirm(\"Bạn muốn hủy yêu cầu thuê xe này?\")) {\n      bookingApi.cancelBooking({\n        id: booking.id\n      });\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleReceiveVehicle = () => {\n    bookingApi.receiveVehicle({\n      id: booking.id\n    }).then(() => {\n      setShow(false);\n    });\n  };\n\n  const handleGiveVehicleBack = () => {\n    bookingApi.giveVehicleBack({\n      id: booking.id\n    }).then(() => {\n      setShow(false);\n    });\n  };\n\n  useEffect(() => {\n    setShow(true);\n  }, [props]);\n  useEffect(() => {\n    console.log(status);\n\n    if (status === \"Hoàn thành\") {\n      bookingApi.getVehicleBookingRating({\n        id: booking.id\n      }).then(res => {\n        if (res) {\n          setRated(res);\n        }\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-vehicle\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-heading\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"register-heading-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `tab-number ${status === \"Đang chờ\" ? \"active\" : \"\"}`,\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0110\\u1EE3i duy\\u1EC7t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-after\",\n            children: /*#__PURE__*/_jsxDEV(AiOutlineRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"register-heading-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `tab-number ${status === \"Đã duyệt\" || status === \"Đã cọc\" ? \"active\" : \"\"}`,\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Thanh to\\xE1n c\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-after\",\n            children: /*#__PURE__*/_jsxDEV(AiOutlineRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"register-heading-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `tab-number ${status === \"Đã giao xe\" || status === \"Đã nhận xe\" ? \"active\" : \"\"}`,\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Nh\\u1EADn xe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-after\",\n            children: /*#__PURE__*/_jsxDEV(AiOutlineRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"register-heading-tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `tab-number ${status === \"Hoàn thành\" || status === \"Đã trả xe\" ? \"active\" : \"\"}`,\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"K\\u1EBFt th\\xFAc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), status === \"Đã hủy\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger booking--width\",\n      children: \"B\\u1EA1n \\u0111\\xE3 h\\u1EE7y y\\xEAu c\\u1EA7u thu\\xEA xe!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this) : status === \"Đã từ chối\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger booking--width\",\n      children: \"Ch\\u1EE7 xe \\u0111\\xE3 t\\u1EEB ch\\u1ED1i y\\xEAu c\\u1EA7u thu\\xEA xe!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this) : status === \"Đã hủy cọc\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger booking--width\",\n      children: \"Ch\\u1EE7 xe \\u0111\\xE3 h\\u1EE7y y\\xEAu c\\u1EA7u thu\\xEA xe!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this) : status === \"Lấy lại cọc\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger booking--width\",\n      children: \"B\\u1EA1n \\u0111\\xE3 l\\u1EA5y l\\u1EA1i c\\u1ECDc v\\xE0 h\\u1EE7y y\\xEAu c\\u1EA7u!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this) : status === \"Đã trả xe\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-danger booking--width\",\n      children: \"H\\xE3y ch\\u1EAFc ch\\u1EAFn r\\u1EB1ng ch\\u1EE7 xe \\u0111\\xE3 b\\u1EA5m x\\xE1c nh\\u1EADn nh\\u1EADn l\\u1EA1i xe!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this) : null, status === \"Hoàn thành\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-body mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking--width\",\n        children: /*#__PURE__*/_jsxDEV(Formik, {\n          enableReinitialize: true,\n          initialValues: {\n            // @ts-ignore\n            content: rated.content,\n            star: rated.numStar\n          },\n          onSubmit: async (values, {\n            setSubmitting\n          }) => {\n            bookingApi.ratingVehicle({\n              id: booking.id,\n              numStar: values.star,\n              content: values.content,\n              type: vehicle.driver ? \"Có tài xế\" : \"Tự lái\"\n            }).then(res => {\n              noti.addNotification({ ...NOTI,\n                title: \"Thành công\",\n                message: \"Bạn đã đánh giá xe thành công, cảm ơn bạn đã sử dụng dịch vụ của chúng tôi!!\",\n                type: \"success\",\n                dismiss: {\n                  duration: 3000\n                },\n                width: 160\n              });\n              props.history.push(\"/\");\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center mb-3\",\n              children: /*#__PURE__*/_jsxDEV(StarRatings, {\n                starRatedColor: \"yellow\",\n                rating: rated.numStar,\n                changeRating: handleChangeStar,\n                numberOfStars: 5,\n                name: \"rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n              className: \"mb-3\",\n              controlId: \"username\",\n              children: /*#__PURE__*/_jsxDEV(Field, {\n                name: \"content\",\n                children: ({\n                  field\n                }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                  autoComplete: \"off\",\n                  as: \"textarea\",\n                  ...field,\n                  placeholder: \"Cho m\\u1ECDi ng\\u01B0\\u1EDDi bi\\u1EBFt c\\u1EA3m nh\\u1EADn c\\u1EE7a b\\u1EA1n v\\u1EC1 xe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              children: \"G\\u1EEDi \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-body mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking--width\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: 7,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking__item--container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking__item--img\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-wrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: booking.vehicle.mainImg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"fw-bold fs-5 text-dark\",\n                  children: booking.vehicle.model.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"B\\u1EAFt \\u0111\\u1EA7u: \", formatDateTime(booking.startTime, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"K\\u1EBFt th\\xFAc: \", formatDateTime(booking.endTime, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Th\\u1EDDi gian tr\\u1EA3 xe: \", formatDateTime(booking.returnTime, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: 5,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Ch\\u1EE7 xe: \", vehicle.user.fullName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"S\\u0110T ch\\u1EE7 xe: \", vehicle.user.phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u0110\\u1ECBa ch\\u1EC9 xe: \", vehicle.location.strAddress]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-light p-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ti\\u1EC1n c\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-primary\",\n              children: [comma(deposit), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-light p-3 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Thanh to\\xE1n cho ch\\u1EE7 xe khi nh\\u1EADn xe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [comma(price), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-footer\",\n      children: [status === \"Đang chờ\" || status == \"Đã duyệt\" && show ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleCancel,\n            children: \"H\\u1EE7y y\\xEAu c\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setOpenModel(true);\n            },\n            disabled: status === \"Đã duyệt\" ? false : true,\n            children: \"\\u0110\\u1EB7t c\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this) : null, status === \"Đã cọc\" || status == \"Đã giao xe\" && show ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleCancelAfterDeposit,\n            children: \"H\\u1EE7y y\\xEAu c\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleReceiveVehicle,\n            disabled: status === \"Đã giao xe\" ? false : true,\n            children: \"Nh\\u1EADn xe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this) : null, status === \"Đã nhận xe\" && show ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"main m-auto\",\n          onClick: handleGiveVehicleBack,\n          children: \"Tr\\u1EA3 xe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), openModal ? /*#__PURE__*/_jsxDEV(Modal, {\n      show: true,\n      onHide: handleCloseModal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c \\u0111\\u1EB7t c\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-4 justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `paymethod__item ${method === 1 ? \"active\" : null}`,\n            onClick: () => {\n              setMethod(1);\n            },\n            children: \"Chuy\\u1EC3n kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `paymethod__item ${method === 2 ? \"active\" : null}`,\n            onClick: () => {\n              setMethod(2);\n            },\n            children: \"Momo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeposit,\n          children: \"\\u0110\\u1EB7t c\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Booking, \"LMyDrSM0Hi+JznRewoMbBYIEZyU=\");\n\n_c = Booking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/components/mytrips/Booking.jsx"],"names":["bookingApi","NOTI","Field","Form","Formik","comma","formatDateTime","React","useEffect","useState","Button","Col","BForm","Modal","Row","AiOutlineRight","store","noti","StarRatings","Booking","props","booking","status","vehicle","deposit","Math","round","amount","price","openModal","setOpenModel","show","setShow","method","setMethod","rated","setRated","content","numStar","handleChangeStar","star","handleCloseModal","handleDeposit","id","methodId","then","handleCancelAfterDeposit","getBackDeposit","handleCancel","window","confirm","cancelBooking","history","push","handleReceiveVehicle","receiveVehicle","handleGiveVehicleBack","giveVehicleBack","console","log","getVehicleBookingRating","res","values","setSubmitting","ratingVehicle","type","driver","addNotification","title","message","dismiss","duration","width","field","mainImg","model","name","startTime","endTime","returnTime","user","fullName","phone","location","strAddress"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport bookingApi from \"api/bookingApi\";\r\nimport { NOTI } from \"constants/index\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { comma, formatDateTime } from \"lib/Helper\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Button, Col, Form as BForm, Modal, Row } from \"react-bootstrap\";\r\nimport { AiOutlineRight } from \"react-icons/ai\";\r\n//@ts-ignore\r\nimport { store as noti } from \"react-notifications-component\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nexport default function Booking(props) {\r\n  const booking = props.booking;\r\n  const status = booking.status;\r\n  const vehicle = booking.vehicle;\r\n  const deposit = Math.round((30 * booking.amount) / 100000) * 1000;\r\n  const price = booking.amount - deposit;\r\n  const [openModal, setOpenModel] = useState(false);\r\n  const [show, setShow] = useState(true);\r\n  const [method, setMethod] = useState(1);\r\n  const [rated, setRated] = useState({ content: \"\", numStar: 0 });\r\n  const handleChangeStar = (star) => {\r\n    setRated({ ...rated, numStar: star });\r\n  };\r\n  const handleCloseModal = () => {\r\n    setOpenModel(false);\r\n  };\r\n  const handleDeposit = () => {\r\n    bookingApi.deposit({ id: booking.id, methodId: method }).then(() => {\r\n      setShow(false);\r\n      setOpenModel(false);\r\n    });\r\n  };\r\n  const handleCancelAfterDeposit = () => {\r\n    bookingApi.getBackDeposit({ id: booking.id }).then(() => {\r\n      setShow(false);\r\n    });\r\n  };\r\n  const handleCancel = () => {\r\n    if (window.confirm(\"Bạn muốn hủy yêu cầu thuê xe này?\")) {\r\n      bookingApi.cancelBooking({ id: booking.id });\r\n      props.history.push(\"/\");\r\n    }\r\n  };\r\n  const handleReceiveVehicle = () => {\r\n    bookingApi.receiveVehicle({ id: booking.id }).then(() => {\r\n      setShow(false);\r\n    });\r\n  };\r\n  const handleGiveVehicleBack = () => {\r\n    bookingApi.giveVehicleBack({ id: booking.id }).then(() => {\r\n      setShow(false);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    setShow(true);\r\n  }, [props]);\r\n  useEffect(() => {\r\n    console.log(status);\r\n    if (status === \"Hoàn thành\") {\r\n      bookingApi.getVehicleBookingRating({ id: booking.id }).then((res) => {\r\n        if (res) {\r\n          setRated(res);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"register-vehicle\">\r\n      <div className=\"register-heading\">\r\n        <Row>\r\n          <Col className=\"register-heading-tab\">\r\n            <div\r\n              className={`tab-number ${status === \"Đang chờ\" ? \"active\" : \"\"}`}\r\n            >\r\n              1\r\n            </div>\r\n            <p>Đợi duyệt</p>\r\n            <i className=\"icon-after\">\r\n              <AiOutlineRight />\r\n            </i>\r\n          </Col>\r\n          <Col className=\"register-heading-tab\">\r\n            <div\r\n              className={`tab-number ${\r\n                status === \"Đã duyệt\" || status === \"Đã cọc\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              2\r\n            </div>\r\n            <p>Thanh toán cọc</p>\r\n            <i className=\"icon-after\">\r\n              <AiOutlineRight />\r\n            </i>\r\n          </Col>\r\n          <Col className=\"register-heading-tab\">\r\n            <div\r\n              className={`tab-number ${\r\n                status === \"Đã giao xe\" || status === \"Đã nhận xe\"\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }`}\r\n            >\r\n              3\r\n            </div>\r\n            <p>Nhận xe</p>\r\n            <i className=\"icon-after\">\r\n              <AiOutlineRight />\r\n            </i>\r\n          </Col>\r\n          <Col className=\"register-heading-tab\">\r\n            <div\r\n              className={`tab-number ${\r\n                status === \"Hoàn thành\" || status === \"Đã trả xe\"\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }`}\r\n            >\r\n              4\r\n            </div>\r\n            <p>Kết thúc</p>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      {status === \"Đã hủy\" ? (\r\n        <div className=\"text-danger booking--width\">\r\n          Bạn đã hủy yêu cầu thuê xe!\r\n        </div>\r\n      ) : status === \"Đã từ chối\" ? (\r\n        <div className=\"text-danger booking--width\">\r\n          Chủ xe đã từ chối yêu cầu thuê xe!\r\n        </div>\r\n      ) : status === \"Đã hủy cọc\" ? (\r\n        <div className=\"text-danger booking--width\">\r\n          Chủ xe đã hủy yêu cầu thuê xe!\r\n        </div>\r\n      ) : status === \"Lấy lại cọc\" ? (\r\n        <div className=\"text-danger booking--width\">\r\n          Bạn đã lấy lại cọc và hủy yêu cầu!\r\n        </div>\r\n      ) : status === \"Đã trả xe\" ? (\r\n        <div className=\"text-danger booking--width\">\r\n          Hãy chắc chắn rằng chủ xe đã bấm xác nhận nhận lại xe!\r\n        </div>\r\n      ) : null}\r\n      {status === \"Hoàn thành\" ? (\r\n        <div className=\"register-body mt-2\">\r\n          <div className=\"booking--width\">\r\n            <Formik\r\n              enableReinitialize={true}\r\n              initialValues={{\r\n                // @ts-ignore\r\n                content: rated.content,\r\n                star: rated.numStar,\r\n              }}\r\n              onSubmit={async (values, { setSubmitting }) => {\r\n                bookingApi\r\n                  .ratingVehicle({\r\n                    id: booking.id,\r\n                    numStar: values.star,\r\n                    content: values.content,\r\n                    type: vehicle.driver ? \"Có tài xế\" : \"Tự lái\",\r\n                  })\r\n                  .then((res) => {\r\n                    noti.addNotification({\r\n                      ...NOTI,\r\n                      title: \"Thành công\",\r\n                      message:\r\n                        \"Bạn đã đánh giá xe thành công, cảm ơn bạn đã sử dụng dịch vụ của chúng tôi!!\",\r\n                      type: \"success\",\r\n                      dismiss: {\r\n                        duration: 3000,\r\n                      },\r\n                      width: 160,\r\n                    });\r\n                    props.history.push(\"/\");\r\n                  });\r\n              }}\r\n            >\r\n              <Form>\r\n                <div className=\"d-flex justify-content-center mb-3\">\r\n                  <StarRatings\r\n                    starRatedColor=\"yellow\"\r\n                    rating={rated.numStar}\r\n                    changeRating={handleChangeStar}\r\n                    numberOfStars={5}\r\n                    name=\"rating\"\r\n                  />\r\n                </div>\r\n                <BForm.Group className=\"mb-3\" controlId=\"username\">\r\n                  <Field name=\"content\">\r\n                    {({ field }) => (\r\n                      <BForm.Control\r\n                        autoComplete=\"off\"\r\n                        as=\"textarea\"\r\n                        {...field}\r\n                        placeholder=\"Cho mọi người biết cảm nhận của bạn về xe\"\r\n                      />\r\n                    )}\r\n                  </Field>\r\n                </BForm.Group>\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                  Gửi đánh giá\r\n                </Button>\r\n              </Form>\r\n            </Formik>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      <div className=\"register-body mt-2\">\r\n        <div className=\"booking--width\">\r\n          <Row>\r\n            <Col lg={7}>\r\n              <div className=\"booking__item--container\">\r\n                <div className=\"booking__item--img\">\r\n                  <div className=\"image-wrapper\">\r\n                    <img src={booking.vehicle.mainImg} alt=\"\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-muted\">\r\n                  <p className=\"fw-bold fs-5 text-dark\">\r\n                    {booking.vehicle.model.name}\r\n                  </p>\r\n                  <p>Bắt đầu: {formatDateTime(booking.startTime, true)}</p>\r\n                  <p>Kết thúc: {formatDateTime(booking.endTime, true)}</p>\r\n                  <p>\r\n                    Thời gian trả xe: {formatDateTime(booking.returnTime, true)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col lg={5}>\r\n              <p>Chủ xe: {vehicle.user.fullName}</p>\r\n              <p>SĐT chủ xe: {vehicle.user.phone}</p>\r\n              <p>Địa chỉ xe: {vehicle.location.strAddress}</p>\r\n            </Col>\r\n          </Row>\r\n          <div className=\"text-center\">\r\n            <div className=\"bg-light p-3 mb-3\">\r\n              <p>Tiền cọc</p>\r\n              <h4 className=\"text-primary\">{comma(deposit)}₫</h4>\r\n            </div>\r\n            <div className=\"bg-light p-3 mb-3\">\r\n              <p>Thanh toán cho chủ xe khi nhận xe</p>\r\n              <h4>{comma(price)}₫</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"register-footer\">\r\n        {status === \"Đang chờ\" || (status == \"Đã duyệt\" && show) ? (\r\n          <Row className=\"main\">\r\n            <Col>\r\n              <Button variant=\"danger\" onClick={handleCancel}>\r\n                Hủy yêu cầu\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                onClick={() => {\r\n                  setOpenModel(true);\r\n                }}\r\n                disabled={status === \"Đã duyệt\" ? false : true}\r\n              >\r\n                Đặt cọc\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        ) : null}\r\n        {status === \"Đã cọc\" || (status == \"Đã giao xe\" && show) ? (\r\n          <Row className=\"main\">\r\n            <Col>\r\n              <Button variant=\"danger\" onClick={handleCancelAfterDeposit}>\r\n                Hủy yêu cầu\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                onClick={handleReceiveVehicle}\r\n                disabled={status === \"Đã giao xe\" ? false : true}\r\n              >\r\n                Nhận xe\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        ) : null}\r\n        {status === \"Đã nhận xe\" && show ? (\r\n          <div className=\"d-flex justify-content-center\">\r\n            <Button className=\"main m-auto\" onClick={handleGiveVehicleBack}>\r\n              Trả xe\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      {openModal ? (\r\n        <Modal show={true} onHide={handleCloseModal}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Chọn phương thức đặt cọc</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"d-flex gap-4 justify-content-between\">\r\n              <div\r\n                className={`paymethod__item ${method === 1 ? \"active\" : null}`}\r\n                onClick={() => {\r\n                  setMethod(1);\r\n                }}\r\n              >\r\n                Chuyển khoản\r\n              </div>\r\n              <div\r\n                className={`paymethod__item ${method === 2 ? \"active\" : null}`}\r\n                onClick={() => {\r\n                  setMethod(2);\r\n                }}\r\n              >\r\n                Momo\r\n              </div>\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button onClick={handleDeposit}>Đặt cọc</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}