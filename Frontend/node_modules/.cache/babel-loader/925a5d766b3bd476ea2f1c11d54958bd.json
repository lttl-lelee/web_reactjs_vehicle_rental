{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\components\\\\account\\\\EditAvatar.jsx\",\n    _s = $RefreshSig$();\n\nimport userApi from \"api/userApi\";\nimport { generateDownload } from \"lib/CropUtils\";\nimport React, { useCallback, useState } from \"react\";\nimport { Modal, Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport Cropper from \"react-easy-crop\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditAvatar(props) {\n  _s();\n\n  const update = props.update;\n  const close = props.handleClose;\n  const [image, setImage] = React.useState(null);\n  const [croppedArea, setCroppedArea] = React.useState(null);\n  const [crop, setCrop] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const [zoom, setZoom] = React.useState(1);\n\n  const handleCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\n    setCroppedArea(croppedAreaPixels);\n  };\n\n  const handleSelectFile = event => {\n    if (event.target.files && event.target.files.length > 0) {\n      const file = event.target.files[0];\n      setImage(window.URL.createObjectURL(file));\n    }\n  };\n\n  const handleSubmit = () => {\n    const callback = (file, link) => {\n      userApi.updateAvatar(file);\n      update(link);\n      close();\n    };\n\n    generateDownload(image, croppedArea, callback);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: props.showEditAvatar,\n    onHide: close,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"C\\u1EADp nh\\u1EADt Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Ch\\u1ECDn \\u1EA3nh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          accept: \"image/*\",\n          type: \"file\",\n          onChange: handleSelectFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), image ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"crop-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"crop-container\",\n          children: /*#__PURE__*/_jsxDEV(Cropper, {\n            image: image,\n            crop: crop,\n            zoom: zoom,\n            aspect: 1,\n            onCropChange: setCrop,\n            onZoomChange: setZoom,\n            onCropComplete: handleCropComplete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmit,\n        variant: \"primary\",\n        className: \"w-100 my-3\",\n        type: \"submit\",\n        children: \"C\\u1EADp nh\\u1EADt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditAvatar, \"s6JtuxoMjaxDjnlegfAXtn3K7Cg=\");\n\n_c = EditAvatar;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditAvatar\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/components/account/EditAvatar.jsx"],"names":["userApi","generateDownload","React","useCallback","useState","Modal","Button","FormGroup","FormControl","FormLabel","Cropper","EditAvatar","props","update","close","handleClose","image","setImage","croppedArea","setCroppedArea","crop","setCrop","x","y","zoom","setZoom","handleCropComplete","croppedAreaPercentage","croppedAreaPixels","handleSelectFile","event","target","files","length","file","window","URL","createObjectURL","handleSubmit","callback","link","updateAvatar","showEditAvatar"],"mappings":"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","sourcesContent":["import userApi from \"api/userApi\";\r\nimport { generateDownload } from \"lib/CropUtils\";\r\nimport React, { useCallback, useState } from \"react\";\r\nimport {\r\n  Modal,\r\n  Button,\r\n  FormGroup,\r\n  FormControl,\r\n  FormLabel,\r\n} from \"react-bootstrap\";\r\nimport Cropper from \"react-easy-crop\";\r\n\r\nexport default function EditAvatar(props) {\r\n  const update = props.update;\r\n  const close = props.handleClose;\r\n  const [image, setImage] = React.useState(null);\r\n  const [croppedArea, setCroppedArea] = React.useState(null);\r\n  const [crop, setCrop] = React.useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = React.useState(1);\r\n\r\n  const handleCropComplete = (croppedAreaPercentage, croppedAreaPixels) => {\r\n    setCroppedArea(croppedAreaPixels);\r\n  };\r\n  const handleSelectFile = (event) => {\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      const file =event.target.files[0];\r\n      setImage(window.URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const callback = (file, link) => {\r\n      userApi.updateAvatar(file);\r\n      update(link);\r\n      close();\r\n    };\r\n    generateDownload(image, croppedArea, callback);\r\n  };\r\n  return (\r\n    <Modal show={props.showEditAvatar} onHide={close}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Cập nhật Avatar</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <FormGroup className=\"mb-3\">\r\n          <FormLabel>Chọn ảnh</FormLabel>\r\n          <FormControl\r\n            accept=\"image/*\"\r\n            type=\"file\"\r\n            onChange={handleSelectFile}\r\n          ></FormControl>\r\n        </FormGroup>\r\n        {image ? (\r\n          <div id=\"crop-container\">\r\n            <div className=\"crop-container\">\r\n              <Cropper\r\n                image={image}\r\n                crop={crop}\r\n                zoom={zoom}\r\n                aspect={1}\r\n                onCropChange={setCrop}\r\n                onZoomChange={setZoom}\r\n                onCropComplete={handleCropComplete}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          onClick={handleSubmit}\r\n          variant=\"primary\"\r\n          className=\"w-100 my-3\"\r\n          type=\"submit\"\r\n        >\r\n          Cập nhật\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}