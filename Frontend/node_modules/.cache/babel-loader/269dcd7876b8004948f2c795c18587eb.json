{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\pages\\\\FindPage.jsx\",\n    _s = $RefreshSig$();\n\nimport { DistanceMatrixService } from \"@react-google-maps/api\";\nimport vehicleApi from \"api/vehicleApi\";\nimport ItemFind from \"components/find/ItemFind\";\nimport Loading from \"components/layout/Loading\";\nimport { formatDateTime, formatMoneyK, sortJSON, sortVehicle, sortVehicleRating } from \"lib/Helper\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Form, FormGroup, FormLabel, Row } from \"react-bootstrap\"; // eslint-disable-next-line no-unused-vars\n\nimport FormRange from \"react-bootstrap/esm/FormRange\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { GrPowerReset } from \"react-icons/gr\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FindPage() {\n  _s();\n\n  const [resultSearch, setResultSearch] = useState([]);\n  const [afterFilter, setAfterFilter] = useState([]);\n  const [isFresh, setIsFresh] = useState(true);\n  const [status, setStatus] = useState(\"loading\");\n  const [listLocationVehicle, setListLocationVehicle] = useState([]);\n  const [listVehicle, setListVehicle] = useState([]);\n  const [range, setRange] = useState(1000000);\n\n  const handleRange = evt => {\n    const value = evt.target.value;\n    setRange(value);\n    let list = [...resultSearch];\n    list = list.filter(item => {\n      return item.vehicle.originPrice < value;\n    });\n    setAfterFilter(list);\n  };\n\n  const handleBikeType = evt => {\n    const value = evt.target.value;\n    let list = [...resultSearch];\n\n    if (value !== \"all\") {\n      list = list.filter(item => {\n        return item.vehicle.bikeType === value;\n      });\n    }\n\n    setAfterFilter(list);\n  };\n\n  const handleCarType = evt => {\n    const value = evt.target.value;\n    let list = [...resultSearch];\n\n    if (value !== \"all\") {\n      list = list.filter(item => {\n        return item.vehicle.carType === +value;\n      });\n    }\n\n    setAfterFilter(list);\n  };\n\n  const handleTransmission = evt => {\n    const value = evt.target.value;\n    let list = [...resultSearch];\n\n    if (value !== \"all\") {\n      list = list.filter(item => {\n        return item.vehicle.transmission === value;\n      });\n    }\n\n    setAfterFilter(list);\n  }; // @ts-ignore\n\n\n  const searchInput = useSelector(state => state.searched).data;\n  console.log(\"timkiem\", searchInput);\n\n  const handleSort = evt => {\n    const type = evt.target.value;\n    let list = [...afterFilter];\n\n    switch (type) {\n      case \"1\":\n        list = sortJSON(list, \"dis\", true);\n        break;\n\n      case \"2\":\n        list = sortVehicle(list, \"originPrice\", true);\n        break;\n\n      case \"3\":\n        list = sortVehicle(list, \"originPrice\", false);\n        break;\n\n      case \"4\":\n        list = sortVehicleRating(list, false);\n      // eslint-disable-next-line no-fallthrough\n\n      default:\n        list = sortVehicle(list, \"id\", true);\n        break;\n    }\n\n    setAfterFilter(list);\n  };\n\n  useEffect(() => {\n    const runEffect = async () => {\n      const rslist = await getListVehicles(searchInput);\n      console.log(searchInput); // @ts-ignore\n\n      console.log(\"kqtimkiem:\", rslist.data); // const list = await getListVehicles('car');\n      // console.log(list);\n      // console.log(getListLocation(list));\n\n      setListVehicle(rslist.data); // setListLocationVehicle(getListLocation(list));\n    };\n\n    runEffect(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // eslint-disable-next-line no-unused-vars\n\n  const url = \"#\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isFresh && (searchInput === null || searchInput === void 0 ? void 0 : searchInput.startLocal) !== \"\" && /*#__PURE__*/_jsxDEV(DistanceMatrixService, {\n      options: {\n        destinations: listLocationVehicle,\n        origins: [searchInput.startLocal],\n        travelMode: \"DRIVING\"\n      },\n      callback: response => {\n        console.log(\"Linh\");\n\n        if (response) {\n          let rs = getListDistanceVehicles(response, listVehicle);\n          setResultSearch(rs);\n          setAfterFilter(rs);\n          setIsFresh(false);\n          setStatus(\"idle\");\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"find-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"find\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"find__header\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__header-location\",\n            lg: 6,\n            id: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"\",\n              children: \"\\u0110\\u1ECBa \\u0111i\\u1EC3m:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: searchInput.startLocal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__header-start\",\n            lg: 3,\n            id: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"\",\n              children: \"B\\u1EAFt \\u0111\\u1EA7u:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-start\",\n              id: \"date\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: formatDateTime(searchInput.startDate, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-start ms-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: searchInput.startTime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), searchInput.type === \"driver\" ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__header-end\",\n            lg: 3,\n            id: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"\",\n              children: \"Th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-end\",\n              id: \"date\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [searchInput.time, \" Ti\\u1EBFng\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__header-end\",\n            lg: 3,\n            id: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"\",\n              children: \"K\\u1EBFt th\\xFAc:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-end\",\n              id: \"date\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: searchInput.startDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-end ms-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: searchInput.startTime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"find__content\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__content-options\",\n            lg: 4,\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  id: \"lable\",\n                  children: \"S\\u1EAFp x\\u1EBFp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select form-select-md mb-3\",\n                  defaultValue: \"T\\u1ED1i \\u01B0u\",\n                  onChange: handleSort,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"0\",\n                    children: \"T\\u1ED1i \\u01B0u\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"\\u01AFu ti\\xEAn kho\\u1EA3ng c\\xE1ch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"\\u01AFu ti\\xEAn gi\\xE1 th\\u1EA5p\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"\\u01AFu ti\\xEAn gi\\xE1 cao\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"\\u01AFu ti\\xEAn \\u0111\\xE1nh gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  id: \"lable\",\n                  children: \"M\\u1EE9c gi\\xE1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Range, {\n                  min: \"100000\",\n                  max: \"1500000\",\n                  step: \"100000\",\n                  onChange: handleRange,\n                  defaultValue: range,\n                  id: \"price-range\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                  className: \"form-label fw--3 fs--6 justify-content-end d-flex\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    id: \"max-price\",\n                    children: [\"D\\u01B0\\u1EDBi \", formatMoneyK(range)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), searchInput.type === \"bike\" ? /*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  id: \"lable\",\n                  children: \"Lo\\u1EA1i xe m\\xE1y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select form-select-md mb-3\",\n                  defaultValue: \"all\",\n                  onChange: handleBikeType,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"T\\u1EA5t c\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Xe s\\u1ED1\",\n                    children: \"Xe s\\u1ED1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Xe ga\",\n                    children: \"Xe ga\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Xe c\\xF4n\",\n                    children: \"Xe c\\xF4n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  id: \"lable\",\n                  children: \"Lo\\u1EA1i xe \\xF4 t\\xF4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select form-select-md mb-3\",\n                  defaultValue: \"all\",\n                  onChange: handleCarType,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"T\\u1EA5t c\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"Mini (4 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"Sedan (4 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"Hatchback (4 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"G\\u1EA7m cao (5 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"G\\u1EA7m cao (7 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"6\",\n                    children: \"G\\u1EA7m th\\u1EA5p (7 ch\\u1ED7)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"7\",\n                    children: \"B\\xE1n t\\u1EA3i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), searchInput.type === \"bike\" ? null : /*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                  id: \"lable\",\n                  children: \"Truy\\u1EC1n \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select form-select-md mb-3\",\n                  defaultValue: \"all\",\n                  onChange: handleTransmission,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"T\\u1EA5t c\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"S\\u1ED1 s\\xE0n\",\n                    children: \"S\\u1ED1 s\\xE0n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"T\\u1EF1 \\u0111\\u1ED9ng\",\n                    children: \"S\\u1ED1 t\\u1EF1 \\u0111\\u1ED9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                id: \"group\",\n                className: \"mb-4\",\n                style: {\n                  textAlign: \"right\",\n                  color: \"#00a54f\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"reset\",\n                className: \"w-100\",\n                onClick: () => {\n                  setAfterFilter(resultSearch);\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  id: \"icon-reset\",\n                  children: /*#__PURE__*/_jsxDEV(GrPowerReset, {\n                    style: {\n                      color: \"#00a54f\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this), \"B\\u1ECF l\\u1ECDc\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"find__content-items\",\n            lg: 8,\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"items position-relative\",\n              children: listVehicle.length > 0 ? listVehicle.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(ItemFind, {\n                  data: item,\n                  type: searchInput.type\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center mt-5 text-danger\",\n                children: \"Kh\\xF4ng t\\xECm th\\u1EA5y k\\u1EBFt qu\\u1EA3!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FindPage, \"0choqwbJAw0O1w0B/I9bbFhe+3c=\", false, function () {\n  return [useSelector];\n});\n\n_c = FindPage;\n\nasync function getListVehicles(type) {\n  let listVehicle = [];\n\n  switch (type) {\n    case \"car\":\n      // @ts-ignore\n      listVehicle = await vehicleApi.getCarSelfDriver();\n      break;\n\n    case \"driver\":\n      // @ts-ignore\n      listVehicle = await vehicleApi.getCarDriver();\n      break;\n\n    case \"bike\":\n      // @ts-ignore\n      listVehicle = await vehicleApi.getBikes();\n      break;\n  }\n\n  return listVehicle;\n} // function getListLocation(list) {\n//  //  console.log(list.data);\n//   var length = Object.keys(list).length;\n//   let rsLatLng = [];\n//   if (length > 0) {\n//     // for (let key in list) {\n//     //   console.log(key);\n//     //   let item = list[key].location[0].str_address;\n//     //   rsLatLng.push(item);\n//     // }\n//     list.data.forEach((e) => {\n//       let item = e.location.str_address;\n//       rsLatLng.push(item);\n//     });\n//   }\n//   // console.log(rsLatLng);\n//   return rsLatLng;\n// }\n\n\nfunction getListDistanceVehicles(response, listVehicles) {\n  console.log(\"Instance\");\n  console.log(response);\n  console.log(listVehicles); // let list = [];\n  // let desList = response.destinationAddresses;\n  // let oriList = response.originAddresses;\n  // let num = desList.length;\n  // let rowList = response.rows[0].elements;\n  // for (let i = 0; i < num; i++) {\n  //   if (rowList[i].distance) {\n  //   }\n  //   if (rowList[i].distance && rowList[i].distance.value < 20000) {\n  //     let item = {\n  //       id: i,\n  //       des: desList[i],\n  //       ori: oriList[0],\n  //       dis: rowList[i].distance.text,\n  //       dur: rowList[i].duration.text,\n  //       vehicle: listVehicles[i],\n  //     };\n  //     list.push(item);\n  //   }\n  // }\n  // return list;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"FindPage\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/pages/FindPage.jsx"],"names":["DistanceMatrixService","vehicleApi","ItemFind","Loading","formatDateTime","formatMoneyK","sortJSON","sortVehicle","sortVehicleRating","React","useEffect","useState","Button","Col","Form","FormGroup","FormLabel","Row","FormRange","GrPowerReset","useSelector","FindPage","resultSearch","setResultSearch","afterFilter","setAfterFilter","isFresh","setIsFresh","status","setStatus","listLocationVehicle","setListLocationVehicle","listVehicle","setListVehicle","range","setRange","handleRange","evt","value","target","list","filter","item","vehicle","originPrice","handleBikeType","bikeType","handleCarType","carType","handleTransmission","transmission","searchInput","state","searched","data","console","log","handleSort","type","runEffect","rslist","getListVehicles","url","startLocal","destinations","origins","travelMode","response","rs","getListDistanceVehicles","startDate","startTime","time","textAlign","color","length","map","index","getCarSelfDriver","getCarDriver","getBikes","listVehicles"],"mappings":"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","sourcesContent":["import { DistanceMatrixService } from \"@react-google-maps/api\";\r\nimport vehicleApi from \"api/vehicleApi\";\r\nimport ItemFind from \"components/find/ItemFind\";\r\nimport Loading from \"components/layout/Loading\";\r\nimport {\r\n  formatDateTime,\r\n  formatMoneyK,\r\n  sortJSON,\r\n  sortVehicle,\r\n  sortVehicleRating,\r\n} from \"lib/Helper\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Button, Col, Form, FormGroup, FormLabel, Row } from \"react-bootstrap\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport FormRange from \"react-bootstrap/esm/FormRange\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { GrPowerReset } from \"react-icons/gr\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function FindPage() {\r\n  const [resultSearch, setResultSearch] = useState([]);\r\n  const [afterFilter, setAfterFilter] = useState([]);\r\n  const [isFresh, setIsFresh] = useState(true);\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [listLocationVehicle, setListLocationVehicle] = useState([]);\r\n  const [listVehicle, setListVehicle] = useState([]);\r\n  const [range, setRange] = useState(1000000);\r\n\r\n\r\n\r\n  const handleRange = (evt) => {   \r\n    const value = evt.target.value;\r\n    setRange(value);\r\n    let list = [...resultSearch];\r\n    list = list.filter((item) => {\r\n      return item.vehicle.originPrice < value;\r\n    });\r\n    setAfterFilter(list);\r\n  };\r\n  const handleBikeType = (evt) => {\r\n    const value = evt.target.value;\r\n    let list = [...resultSearch];\r\n    if (value !== \"all\") {\r\n      list = list.filter((item) => {\r\n        return item.vehicle.bikeType === value;\r\n      });\r\n    }\r\n    setAfterFilter(list);\r\n  };\r\n  const handleCarType = (evt) => {\r\n    const value = evt.target.value;\r\n    let list = [...resultSearch];\r\n    if (value !== \"all\") {\r\n      list = list.filter((item) => {\r\n        return item.vehicle.carType === +value;\r\n      });\r\n    }\r\n    setAfterFilter(list);\r\n  };\r\n  const handleTransmission = (evt) => {\r\n    const value = evt.target.value;\r\n    let list = [...resultSearch];\r\n    if (value !== \"all\") {\r\n      list = list.filter((item) => {\r\n        return item.vehicle.transmission === value;\r\n      });\r\n    }\r\n    setAfterFilter(list);\r\n  };\r\n  // @ts-ignore\r\n  const searchInput = useSelector((state) => state.searched).data;\r\n  console.log(\"timkiem\",searchInput);\r\n  const handleSort = (evt) => {\r\n    const type = evt.target.value;\r\n    let list = [...afterFilter];\r\n    switch (type) {\r\n      case \"1\":\r\n        list = sortJSON(list, \"dis\", true);\r\n        break;\r\n      case \"2\":\r\n        list = sortVehicle(list, \"originPrice\", true);\r\n        break;\r\n      case \"3\":\r\n        list = sortVehicle(list, \"originPrice\", false);\r\n        break;\r\n      case \"4\":\r\n        list = sortVehicleRating(list, false);\r\n      // eslint-disable-next-line no-fallthrough\r\n      default:\r\n        list = sortVehicle(list, \"id\", true);\r\n      break;\r\n    }\r\n    setAfterFilter(list);\r\n  };\r\n  useEffect(() => {\r\n    const runEffect = async () => {\r\n      const rslist= await getListVehicles(searchInput);\r\n      console.log(searchInput);\r\n      // @ts-ignore\r\n      console.log(\"kqtimkiem:\",rslist.data);\r\n      // const list = await getListVehicles('car');\r\n      // console.log(list);\r\n      // console.log(getListLocation(list));\r\n      setListVehicle(rslist.data);\r\n      // setListLocationVehicle(getListLocation(list));\r\n    };\r\n    runEffect();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const url = \"#\";\r\n  return (\r\n    <>\r\n    {/* {console.log(isFresh && searchInput?.startLocal !== \"\")} */}\r\n  \r\n      {isFresh && searchInput?.startLocal !== \"\" && (\r\n\r\n        <DistanceMatrixService\r\n          options={{\r\n            destinations: listLocationVehicle,\r\n            origins: [searchInput.startLocal],\r\n            travelMode: \"DRIVING\",\r\n          }}\r\n          \r\n          callback={(response) => {\r\n            console.log(\"Linh\");\r\n            if (response) {\r\n              let rs = getListDistanceVehicles(response, listVehicle);\r\n             \r\n              setResultSearch(rs);\r\n              setAfterFilter(rs);\r\n              setIsFresh(false);\r\n              setStatus(\"idle\");\r\n            }\r\n          }}\r\n        /> \r\n      )}\r\n      <div id=\"find-page\">\r\n        <div className=\"find\">\r\n          <Row className=\"find__header\">\r\n            <Col className=\"find__header-location\" lg={6} id=\"heading\">\r\n              <label htmlFor=\"\">Địa điểm:</label>\r\n              <p>{searchInput.startLocal}</p>\r\n            </Col>\r\n            <Col className=\"find__header-start\" lg={3} id=\"heading\">\r\n              <label htmlFor=\"\">Bắt đầu:</label>\r\n              <div className=\"date-start\" id=\"date\">\r\n                <p>{formatDateTime(searchInput.startDate, false)}</p>\r\n              </div>\r\n              <div className=\"time-start ms-3\">\r\n                <p>{searchInput.startTime}</p>\r\n              </div>\r\n            </Col>\r\n            {searchInput.type === \"driver\" ? (\r\n              <Col className=\"find__header-end\" lg={3} id=\"heading\">\r\n                <label htmlFor=\"\">Thời gian:</label>\r\n                <div className=\"date-end\" id=\"date\">\r\n                  <p>{searchInput.time} Tiếng</p>\r\n                </div>\r\n              </Col>\r\n            ) : (\r\n              <Col className=\"find__header-end\" lg={3} id=\"heading\">\r\n                <label htmlFor=\"\">Kết thúc:</label>\r\n                <div className=\"date-end\" id=\"date\">\r\n                  <p>{searchInput.startDate}</p>\r\n                </div>\r\n                <div className=\"time-end ms-3\">\r\n                  <p>{searchInput.startTime}</p>\r\n                </div>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n          <Row className=\"find__content\">\r\n            <Col className=\"find__content-options\" lg={4}>\r\n              <Form>\r\n                <FormGroup id=\"group\" className=\"mb-4\">\r\n                  <FormLabel id=\"lable\">Sắp xếp</FormLabel>\r\n                  <select\r\n                    className=\"form-select form-select-md mb-3\"\r\n                    defaultValue=\"Tối ưu\"\r\n                    onChange={handleSort}\r\n                  >\r\n                    <option value=\"0\">Tối ưu</option>\r\n                    <option value=\"1\">Ưu tiên khoảng cách</option>\r\n                    <option value=\"2\">Ưu tiên giá thấp</option>\r\n                    <option value=\"3\">Ưu tiên giá cao</option>\r\n                    <option value=\"4\">Ưu tiên đánh giá</option>\r\n                  </select>\r\n                </FormGroup>\r\n                <FormGroup id=\"group\" className=\"mb-4\">\r\n                  <FormLabel id=\"lable\">Mức giá</FormLabel>\r\n                  <Form.Range\r\n                    min=\"100000\"\r\n                    max=\"1500000\"\r\n                    step=\"100000\"\r\n                    onChange={handleRange}\r\n                    defaultValue={range}\r\n                    id=\"price-range\"\r\n                  />\r\n                  <Form.Label className=\"form-label fw--3 fs--6 justify-content-end d-flex\">\r\n                    <span id=\"max-price\">Dưới {formatMoneyK(range)}</span>\r\n                  </Form.Label>\r\n                </FormGroup>\r\n                {searchInput.type === \"bike\" ? (\r\n                  <FormGroup id=\"group\" className=\"mb-4\">\r\n                    <FormLabel id=\"lable\">Loại xe máy</FormLabel>\r\n                    <select\r\n                      className=\"form-select form-select-md mb-3\"\r\n                      defaultValue=\"all\"\r\n                      onChange={handleBikeType}\r\n                    >\r\n                      <option value=\"all\">Tất cả</option>\r\n                      <option value=\"Xe số\">Xe số</option>\r\n                      <option value=\"Xe ga\">Xe ga</option>\r\n                      <option value=\"Xe côn\">Xe côn</option>\r\n                    </select>\r\n                  </FormGroup>\r\n                ) : (\r\n                  <FormGroup id=\"group\" className=\"mb-4\">\r\n                    <FormLabel id=\"lable\">Loại xe ô tô</FormLabel>\r\n                    <select\r\n                      className=\"form-select form-select-md mb-3\"\r\n                      defaultValue=\"all\"\r\n                      onChange={handleCarType}\r\n                    >\r\n                      <option value=\"all\">Tất cả</option>\r\n                      <option value=\"1\">Mini (4 chỗ)</option>\r\n                      <option value=\"2\">Sedan (4 chỗ)</option>\r\n                      <option value=\"3\">Hatchback (4 chỗ)</option>\r\n                      <option value=\"4\">Gầm cao (5 chỗ)</option>\r\n                      <option value=\"5\">Gầm cao (7 chỗ)</option>\r\n                      <option value=\"6\">Gầm thấp (7 chỗ)</option>\r\n                      <option value=\"7\">Bán tải</option>\r\n                    </select>\r\n                  </FormGroup>\r\n                )}\r\n                {searchInput.type === \"bike\" ? null : (\r\n                  <FormGroup id=\"group\" className=\"mb-4\">\r\n                    <FormLabel id=\"lable\">Truyền động</FormLabel>\r\n                    <select\r\n                      className=\"form-select form-select-md mb-3\"\r\n                      defaultValue=\"all\"\r\n                      onChange={handleTransmission}\r\n                    >\r\n                      <option value=\"all\">Tất cả</option>\r\n                      <option value=\"Số sàn\">Số sàn</option>\r\n                      <option value=\"Tự động\">Số tự động</option>\r\n                    </select>\r\n                  </FormGroup>\r\n                )}\r\n                <FormGroup\r\n                  id=\"group\"\r\n                  className=\"mb-4\"\r\n                  style={{ textAlign: \"right\", color: \"#00a54f\" }}\r\n                ></FormGroup>\r\n                <Button\r\n                  type=\"reset\"\r\n                  className=\"w-100\"\r\n                  onClick={() => {\r\n                    setAfterFilter(resultSearch);\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  <span id=\"icon-reset\">\r\n                    <GrPowerReset style={{ color: \"#00a54f\" }} />\r\n                  </span>\r\n                  Bỏ lọc\r\n                </Button>\r\n              </Form>\r\n            </Col>\r\n            <Col className=\"find__content-items\" lg={8}>\r\n              <Row className=\"items position-relative\">\r\n                {/* {status === \"loading\" ? (\r\n                  <Loading type=\"inline\" />\r\n                ) :  */}\r\n                {listVehicle.length > 0 ? (\r\n                  listVehicle.map((item, index) => {\r\n                    return (\r\n                      <ItemFind\r\n                        key={index}\r\n                        data={item}\r\n                        type={searchInput.type}\r\n                      />\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <p className=\"text-center mt-5 text-danger\">\r\n                    Không tìm thấy kết quả!\r\n                  </p>\r\n                )}\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nasync function getListVehicles(type) {\r\n  let listVehicle = [];\r\n  switch (type) {\r\n    case \"car\":\r\n      // @ts-ignore\r\n      listVehicle = await vehicleApi.getCarSelfDriver();\r\n      break;\r\n    case \"driver\":\r\n      // @ts-ignore\r\n      listVehicle = await vehicleApi.getCarDriver();\r\n      break;\r\n    case \"bike\":\r\n      // @ts-ignore\r\n      listVehicle = await vehicleApi.getBikes();\r\n      break;\r\n  }\r\n\r\n  return listVehicle;\r\n}\r\n// function getListLocation(list) {\r\n//  //  console.log(list.data);\r\n//   var length = Object.keys(list).length;\r\n//   let rsLatLng = [];\r\n//   if (length > 0) {\r\n//     // for (let key in list) {\r\n//     //   console.log(key);\r\n//     //   let item = list[key].location[0].str_address;\r\n//     //   rsLatLng.push(item);\r\n//     // }\r\n//     list.data.forEach((e) => {\r\n//       let item = e.location.str_address;\r\n//       rsLatLng.push(item);\r\n//     });\r\n//   }\r\n//   // console.log(rsLatLng);\r\n//   return rsLatLng;\r\n// }\r\n\r\nfunction getListDistanceVehicles(response, listVehicles) {\r\n  console.log(\"Instance\");\r\n  console.log(response);\r\n  console.log(listVehicles);\r\n  // let list = [];\r\n  // let desList = response.destinationAddresses;\r\n  // let oriList = response.originAddresses;\r\n  // let num = desList.length;\r\n  // let rowList = response.rows[0].elements;\r\n  // for (let i = 0; i < num; i++) {\r\n  //   if (rowList[i].distance) {\r\n  //   }\r\n  //   if (rowList[i].distance && rowList[i].distance.value < 20000) {\r\n  //     let item = {\r\n  //       id: i,\r\n  //       des: desList[i],\r\n  //       ori: oriList[0],\r\n  //       dis: rowList[i].distance.text,\r\n  //       dur: rowList[i].duration.text,\r\n  //       vehicle: listVehicles[i],\r\n  //     };\r\n  //     list.push(item);\r\n  //   }\r\n  // }\r\n  // return list;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}