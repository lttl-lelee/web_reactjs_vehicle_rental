{"ast":null,"code":"var _jsxFileName = \"D:\\\\hihi\\\\senior-project\\\\web\\\\src\\\\components\\\\Header\\\\LoginForm.jsx\",\n    _s = $RefreshSig$();\n\nimport UserApi from \"api/userApi\";\nimport { login } from \"app/slice/userSlice\";\nimport store from \"app/store\";\nimport { FACEBOOK_AUTH_URL, GOOGLE_AUTH_URL } from \"constants/index\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport Loading from \"components/layout/Loading\";\nimport React, { useState } from \"react\";\nimport { Button, Form as BForm, Modal } from \"react-bootstrap\";\nimport { AiOutlineGoogle } from \"react-icons/ai\";\nimport { GrFacebookOption } from \"react-icons/gr\"; // import { useDispatch } from \"react-redux\";\n// import Cookies from \"universal-cookie\";\n\nimport * as Yup from \"yup\";\nimport ForgetPasswordForm from \"./ForgetPasswordForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = props => {\n  _s();\n\n  const handleClose = props.handleClose;\n  const handleShowSignup = props.handleShowSignup;\n  const [status, setStatus] = useState(0);\n\n  const handleForgetPassword = () => {\n    setStatus(2);\n  };\n\n  const redirect = () => {\n    localStorage.setItem(\"_pathname\", window.location.pathname);\n    localStorage.setItem(\"_search\", window.location.search);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: true,\n    onHide: handleClose,\n    fullscreen: \"sm-down\",\n    backdrop: \"static\",\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"\\u0110\\u0103ng nh\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: status === 2 ? /*#__PURE__*/_jsxDEV(ForgetPasswordForm, {\n        close: handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: {\n          email: \"\",\n          password: \"\"\n        },\n        validationSchema: Yup.object({\n          email: Yup.string().required(\"Đây là trường bắt buộc\"),\n          password: Yup.string().required(\"Đây là trường bắt buộc\")\n        }),\n        onSubmit: values => {\n          setStatus(1);\n          UserApi.login(values).then(res => {\n            store.dispatch(login(res));\n            handleClose();\n            setStatus(0);\n          }).catch(res => {\n            console.log(res);\n            setStatus(-1);\n          });\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [status === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative\",\n            children: /*#__PURE__*/_jsxDEV(Loading, {\n              type: \"inline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger text-center\",\n            children: status === -1 ? \"Sai tên đăng nhập hoặc mật khẩu\" : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            className: \"mb-3\",\n            controlId: \"email\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n              children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp*:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"email\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                type: \"text\",\n                ...field,\n                placeholder: \"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Group, {\n            className: \"mb-3\",\n            controlId: \"password\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Label, {\n              children: \"M\\u1EADt kh\\u1EA9u*:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              name: \"password\",\n              children: ({\n                field\n              }) => /*#__PURE__*/_jsxDEV(BForm.Control, {\n                type: \"password\",\n                ...field,\n                placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-danger\",\n              children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-muted\",\n              children: [\"B\\u1EA1n ch\\u01B0a l\\xE0 th\\xE0nh vi\\xEAn?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"link-primary text-decoration-underline cursor--pointer\",\n                onClick: () => {\n                  handleClose();\n                  handleShowSignup();\n                },\n                children: \"H\\xE3y \\u0111\\u0103ng k\\xFD ngay!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n              className: \"text-muted\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"link-primary text-decoration-underline cursor--pointer\",\n                onClick: () => {\n                  handleForgetPassword();\n                },\n                children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            className: \"w-100 my-3\",\n            type: \"submit\",\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BForm.Text, {\n            className: \"text-muted text-center d-block mb-3\",\n            children: \"Ho\\u1EB7c \\u0111\\u0103ng nh\\u1EADp b\\u1EB1ng t\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              href: FACEBOOK_AUTH_URL,\n              className: \"w-50\",\n              onClick: redirect,\n              style: {\n                backgroundColor: \"#285091\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(GrFacebookOption, {\n                className: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this), \"Facebook\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              href: GOOGLE_AUTH_URL,\n              variant: \"danger\",\n              className: \"w-50 text-white\",\n              onClick: redirect,\n              children: [/*#__PURE__*/_jsxDEV(AiOutlineGoogle, {\n                className: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), \" Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"HyV7fLWlO7gT4ZmdIuxOLcDCb60=\");\n\n_c = LoginForm;\nexport default _c2 = /*#__PURE__*/React.memo(LoginForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/hihi/senior-project/web/src/components/Header/LoginForm.jsx"],"names":["UserApi","login","store","FACEBOOK_AUTH_URL","GOOGLE_AUTH_URL","ErrorMessage","Field","Form","Formik","Loading","React","useState","Button","BForm","Modal","AiOutlineGoogle","GrFacebookOption","Yup","ForgetPasswordForm","LoginForm","props","handleClose","handleShowSignup","status","setStatus","handleForgetPassword","redirect","localStorage","setItem","window","location","pathname","search","email","password","object","string","required","values","then","res","dispatch","catch","console","log","field","backgroundColor","memo"],"mappings":"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","sourcesContent":["import UserApi from \"api/userApi\";\r\nimport { login } from \"app/slice/userSlice\";\r\nimport store from \"app/store\";\r\nimport { FACEBOOK_AUTH_URL, GOOGLE_AUTH_URL } from \"constants/index\";\r\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport Loading from \"components/layout/Loading\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Form as BForm, Modal } from \"react-bootstrap\";\r\nimport { AiOutlineGoogle } from \"react-icons/ai\";\r\nimport { GrFacebookOption } from \"react-icons/gr\";\r\n// import { useDispatch } from \"react-redux\";\r\n// import Cookies from \"universal-cookie\";\r\nimport * as Yup from \"yup\";\r\nimport ForgetPasswordForm from \"./ForgetPasswordForm\";\r\n\r\nconst LoginForm = (props) => {\r\n  const handleClose = props.handleClose;\r\n  const handleShowSignup = props.handleShowSignup;\r\n  const [status, setStatus] = useState(0);\r\n  const handleForgetPassword = () => {\r\n    setStatus(2);\r\n  };\r\n  const redirect = () => {\r\n    localStorage.setItem(\"_pathname\", window.location.pathname);\r\n    localStorage.setItem(\"_search\", window.location.search);\r\n  };\r\n  return (\r\n    <Modal\r\n      show={true}\r\n      onHide={handleClose}\r\n      fullscreen=\"sm-down\"\r\n      backdrop=\"static\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Đăng nhập</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {status === 2 ? (\r\n          <ForgetPasswordForm close={handleClose} />\r\n        ) : (\r\n          <Formik\r\n            initialValues={{ email: \"\", password: \"\" }}\r\n            validationSchema={Yup.object({\r\n              email: Yup.string().required(\"Đây là trường bắt buộc\"),\r\n              password: Yup.string().required(\"Đây là trường bắt buộc\"),\r\n            })}\r\n            onSubmit={(values) => {\r\n              setStatus(1);\r\n              UserApi.login(values)\r\n                .then((res) => {\r\n                  store.dispatch(login(res));\r\n                  handleClose();\r\n                  setStatus(0);\r\n                })\r\n                .catch((res) => {\r\n                  console.log(res);\r\n                  setStatus(-1);\r\n                });\r\n            }}\r\n          >\r\n            <Form>\r\n              {status === 1 ? (\r\n                <div className=\"position-relative\">\r\n                  <Loading type=\"inline\" />\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-danger text-center\">\r\n                  {status === -1 ? \"Sai tên đăng nhập hoặc mật khẩu\" : null}\r\n                </p>\r\n              )}\r\n              <BForm.Group className=\"mb-3\" controlId=\"email\">\r\n                <BForm.Label>Tên đăng nhập*:</BForm.Label>\r\n                <Field name=\"email\">\r\n                  {({ field }) => (\r\n                    <BForm.Control\r\n                      type=\"text\"\r\n                      {...field}\r\n                      placeholder=\"Nhập email của bạn\"\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"email\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <BForm.Group className=\"mb-3\" controlId=\"password\">\r\n                <BForm.Label>Mật khẩu*:</BForm.Label>\r\n                <Field name=\"password\">\r\n                  {({ field }) => (\r\n                    <BForm.Control\r\n                      type=\"password\"\r\n                      {...field}\r\n                      placeholder=\"Nhập mật khẩu\"\r\n                    />\r\n                  )}\r\n                </Field>\r\n                <BForm.Text className=\"text-danger\">\r\n                  <ErrorMessage name=\"password\" />\r\n                </BForm.Text>\r\n              </BForm.Group>\r\n              <div className=\"d-flex justify-content-between\">\r\n                <BForm.Text className=\"text-muted\">\r\n                  Bạn chưa là thành viên?{\" \"}\r\n                  <span\r\n                    className=\"link-primary text-decoration-underline cursor--pointer\"\r\n                    onClick={() => {\r\n                      handleClose();\r\n                      handleShowSignup();\r\n                    }}\r\n                  >\r\n                    Hãy đăng ký ngay!\r\n                  </span>\r\n                </BForm.Text>\r\n                <BForm.Text className=\"text-muted\">\r\n                  <span\r\n                    className=\"link-primary text-decoration-underline cursor--pointer\"\r\n                    onClick={() => {\r\n                      handleForgetPassword();\r\n                    }}\r\n                  >\r\n                    Quên mật khẩu?\r\n                  </span>\r\n                </BForm.Text>\r\n              </div>\r\n              <Button variant=\"primary\" className=\"w-100 my-3\" type=\"submit\">\r\n                Đăng nhập\r\n              </Button>\r\n              <hr />\r\n              <BForm.Text className=\"text-muted text-center d-block mb-3\">\r\n                Hoặc đăng nhập bằng tài khoản\r\n              </BForm.Text>\r\n              <div className=\"d-flex gap-2\">\r\n                <Button\r\n                  href={FACEBOOK_AUTH_URL}\r\n                  className=\"w-50\"\r\n                  onClick={redirect}\r\n                  style={{ backgroundColor: \"#285091\" }}\r\n                >\r\n                  <GrFacebookOption className=\"icon\" />\r\n                  Facebook\r\n                </Button>\r\n                <Button\r\n                  href={GOOGLE_AUTH_URL}\r\n                  variant=\"danger\"\r\n                  className=\"w-50 text-white\"\r\n                  onClick={redirect}\r\n                >\r\n                  <AiOutlineGoogle className=\"icon\" /> Google\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </Formik>\r\n        )}\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\nexport default React.memo(LoginForm);"]},"metadata":{},"sourceType":"module"}